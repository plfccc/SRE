## 	Day1 è™šæ‹Ÿæœºçš„å®‰è£…,xshellçš„è¿æ¥

1. è™šæ‹Ÿæœºå¼€æœºç•Œé¢  è¾“å…¥å‘½ä»¤

```shell
net.ifnames=0 biosdevname=0
```

[^ä½œç”¨]: ç”¨äºè®©ç½‘å¡åå­—å˜æˆ ethx å½¢å¼ eth0 eth1

- ç³»ç»Ÿç‰ˆæœ¬CentOS 7.9 å†…æ ¸3.10.0

# Day2

- **IPåœ°å€**

  - ip address # ip a

  - ipåœ°å€:è®¾å¤‡çš„ä½ç½®

  - å¯åˆ†ç®€å•çš„ä¸º2ç±»: å±€åŸŸç½‘IP(å†…ç½‘IP,ç§ç½‘IP),å…¬ç½‘IP(å¤–ç½‘IP)

- **ç«¯å£**
  - è¿œç¨‹è¿æ¥æœåŠ¡ sshé»˜è®¤ç«¯å£:22
  - ç½‘ç«™æœåŠ¡http :80
  - ç½‘ç«™æœåŠ¡åŠ å¯†https:443

- **åè®®**
  - åŒæ–¹å…±åŒéµå®ˆçš„å‡†åˆ™
  - è¿œç¨‹è¿æ¥éµå®ˆçš„æ˜¯sshåè®®			

- **Linuxå¸¸ç”¨å¿«æ·é”®**

| Linuxå¿«æ·é”®        | å¿«æ·ç‚¹åŠè¯´æ˜ |
| ------------------ | ------------ |
| å…‰æ ‡ç§»åŠ¨åˆ°è¡Œé¦–     | ctrl+a       |
| å…‰æ ‡ç§»åŠ¨åˆ°è¡Œå°¾     | ctrl+e       |
| å…‰æ ‡åˆ°è¡Œé¦–å†…å®¹å‰ªåˆ‡ | ctrl+u       |
| å…‰æ ‡åˆ°è¡Œå°¾å†…å®¹å‰ªåˆ‡ | ctrl+k       |
| æ¸…å±               | ctrl+l       |
| å–æ¶ˆå½“å‰å‘½ä»¤       | ctrl+c       |
| :warning:é”å±      | ctrl+s       |
| è§£é”               | ctrl+q       |
| :warning:æŒ‚èµ·      | ctrl+z       |

># æ€»ç»“

1. ipåœ°å€
2. å¸¸ç”¨ç«¯å£:22,80,443
3. åè®®
4. è¿œç¨‹è¿æ¥å‡ºé”™é—®é¢˜æ’é™¤
   - æ£€æŸ¥é“è·¯æ˜¯å¦é€šç•…:==Ping==
   - æ˜¯å¦æœ‰é˜²ç«å¢™
   - æ˜¯å¦æä¾›ç«¯å£æœåŠ¡:==telnet==æ£€æŸ¥ç«¯å£æ˜¯å¦é€šç•…
5. Linuxå¸¸è§å¿«æ·å»º

# Day3

> Linux ç½‘å¡é…ç½®æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ï¼š==/etc/sysconfig/network-scripts/ifcfg-eth0==

- ## æ ¹ä¸‹æ ¸å¿ƒç›®å½•	

| æ ¹ä¸‹æ ¸å¿ƒç›®å½• | æè¿°                          |
| ------------ | ----------------------------- |
| :star:/etc/  | ç³»ç»ŸæœåŠ¡é…ç½®æ–‡ä»¶              |
| :star:/home/ | æ™®é€šç”¨æˆ·çš„å®¶                  |
| :star:/root/ | æ ¹ç”¨æˆ·çš„å®¶                    |
| /dev         | device,è®¾å¤‡æ–‡ä»¶ç›®å½•ï¼Œç¡¬ç›˜å…‰ç›˜ |
| :star:/tmp/  | ä¸´æ—¶ç›®å½•ï¼Œå­˜æ”¾ä¸´æ—¶ä¿¡æ¯        |
| /proc/       | peocess ç³»ç»ŸæœåŠ¡ï¼Œè¿›ç¨‹ä¿¡æ¯    |

- ## è·¯å¾„

  - ç»å¯¹è·¯å¾„ï¼šä»æ ¹å¼€å§‹
  - ç›¸å¯¹è·¯å¾„ï¼šä¸ä»æ ¹å¼€å§‹

- ## å‘½ä»¤è¯¦è§£

  :one:

  | å‘½ä»¤ | è¯¦è§£                                              |
  | ---- | ------------------------------------------------- |
  | cd   | change directory è¿›å…¥åˆ°æŸä¸ªç›®å½•                   |
  | pwd  | print work directory ç°å®å½“å‰æ‰€åœ¨ä½ç½®ï¼ˆç»å¯¹è·¯å¾„ï¼‰ |

  | cdå‘½ä»¤çš„å…¶ä»–ç”¨æ³• |                |
  | ---------------- | -------------- |
  | cd ~ æˆ–è€…cd      | å›è€å®¶         |
  | cd ..            | å›åˆ°ä¸Šå±‚ç›®å½•   |
  | cd -             | å›åˆ°ä¸Šä¸€æ¬¡ç›®å½• |

  :two::mkdiråˆ›å»ºç›®å½•

  â€‹	-p :åˆ›å»ºå¤šä¸ªç›®å½•

  :three::touch åˆ›å»ºæ–‡ä»¶

  :four::ls å±•ç¤ºç›®å½•å†…å®¹

  > -l:ç°å®è¾ƒå¤šå†…å®¹ä¿¡æ¯
  >
  > -t:æŒ‰æ—¶é—´é¡ºåºæ˜¾ç¤º
  

â€‹	:five::mv ç”¨æ¥å¯¹æ–‡ä»¶æˆ–ç›®å½•é‡æ–°å‘½å

â€‹	:six::cp å¤åˆ¶æ‹·è´

> -a å¤åˆ¶å…¨éƒ¨
>
> -t åè½¬æºåœ°å€ä¸ç›®æ ‡åœ°å€ (å¯ä¸|xargsä½¿ç”¨)

â€‹	:seven::echo è¾“å‡ºä¿¡æ¯åˆ°å±å¹• å¯ä¸é‡å®šä¹‰ç¬¦å·>  æˆ–è€…è¿½åŠ ç¬¦>>ä½¿ç”¨

â€‹	:eight::cat æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ ä¹Ÿå¯2æ–‡ä»¶å†…å®¹è¿½åŠ ä½¿ç”¨

```shell
  ä¾‹: cat oldboy.txt demo1.
```

â€‹	:nine::rm ç”¨äºåˆ é™¤ç»™å®šçš„æ–‡ä»¶å’Œç›®å½•

> -r: é€’å½’å¤„ç†ï¼Œå°†æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä¸å­ç›®å½•ä¸€å¹¶å¤„ç†
>
> -f: å¼ºåˆ¶åˆ é™¤æ–‡ä»¶æˆ–ç›®å½•

- ## ä¼˜åŒ–yumæº(æ–¹ä¾¿ä¸‹è½½å®‰è£…)

  ```shell
  1:é…ç½®yumæº	
  # curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo
  # curl -o /etc/yum.repos.d/epel.repo https://mirrors.aliyun.com/repo/epel-7.repo
  2:å®‰è£…å¸¸ç”¨å·¥å…·
  # yum install -y tree vim wget bash-completion bash-completion-extras lrzsz net-tools sysstat iotop iftop htop unzip nc nmap telnet bc psmisc httpd-tools bind-utils nethogs expect
  ```

- ## vi-vimç¼–è¾‘å™¨è¯¦è§£

  ```sh
  vim  /demo1/demo.txt 
  ```

  > æ–‡ä»¶ä¸å­˜åœ¨åˆ™ä¼šè‡ªåŠ¨åˆ›å»ºæ–‡ä»¶
  >
  > ç›®å½•ä¸å­˜åœ¨åˆ™ä¸ä¼šåˆ›å»º,å¹¶æŠ¥é”™

  - è¿›å…¥ç¼–è¾‘æ¨¡å¼:  i

  - æ¨å‡ºç¼–è¾‘æ¨¡å¼:  esc
  - ä¿å­˜å¹¶é€€å‡º:  :wq
  - ä¸ä¿å­˜å¼ºåˆ¶é€€å‡º: :q!

- ## ç§»åŠ¨å…‰æ ‡å¿«æ·é”®	:star::star::star::star:

  > ç§»åŠ¨åˆ°æœ€åä¸€è¡Œ  G(shift+g)
  >
  > ç§»åŠ¨åˆ°ç¬¬ä¸€è¡Œ gg
  >
  > ç§»åŠ¨åˆ°æŸä¸€è¡Œ xx gg(å³è¾¹æ•°å­—é”®ä¸è¡Œ)
  >
  >    
  >
  > ç§»åŠ¨åˆ°è¡Œé¦–ï¼šshift+^
  >
  > ç§»åŠ¨åˆ°è¡Œå°¾ï¼šshift+$
  >
  >  
  >
  > äº†è§£ï¼š   h(å·¦)   l(å³)   k(ä¸Š)    j(ä¸‹)

  

- ## å¤åˆ¶ï¼Œåˆ é™¤ï¼Œç²˜è´´  :star::star::star::star:

> å¤åˆ¶å½“å‰è¡Œ   yy
>
> åˆ é™¤å½“å‰è¡Œï¼ˆå‰ªåˆ‡ï¼‰ dd
>
> ç²˜è´´  p

- ## å…¶ä»–å¿«æ·é”®:star::star::star::star:

  > æ’¤é”€    u(undo)
  >
  > æ˜¾ç¤ºè¡Œå·    ï¼šset nu
  >
  > å–æ¶ˆæ˜¾ç¤ºè¡Œå·  ï¼šset nonu
  >
  > æœç´¢   /ï¼ˆéœ€è¦æŸ¥æ‰¾çš„å†…å®¹ï¼‰
  >
  > ç»§ç»­å‘ä¸‹æœç´¢  n
  >
  > ç»§ç»­å‘ä¸Šæœç´¢  N

  >  shift+v è¿›å…¥åˆ°å¯è§†è¡Œæ¨¡å¼ï¼ˆæ‰¹é‡æ“ä½œï¼‰
  >
  > æŒ‰ä¸Šä¸‹é”®ï¼Œé€‰æ‹©è¦å¤„ç†çš„èŒƒå›´
  >
  > åˆ é™¤æŒ‰d,å¤åˆ¶æŒ‰y 

- ## æ•…éšœæ¡ˆä¾‹

  - vimç¼–è¾‘æ–‡ä»¶æ•…éšœæç¤º

![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240221155709887.png)

-  åŸå› ï¼š

  - vi/vimåœ¨ç¼–è¾‘æ–‡ä»¶æ—¶ä¼šç”Ÿæˆä¸´æ—¶æ–‡ä»¶
  - é€šè¿‡ä¿å­˜é€€å‡ºï¼Œéšè—æ–‡ä»¶ä¼šæ¶ˆå¤±
  - å¼‚å¸¸æƒ…å†µï¼Œæ–­ç”µï¼ŒåŒæ—¶ç¼–è¾‘è¿™ä¸ªæ–‡ä»¶ï¼Œå°±ä¼šæœ‰è¿™ä¸ªæç¤º

- è§£å†³ï¼š

  - 1.åˆ é™¤ä¸´æ—¶æ–‡ä»¶ï¼Œæ ¹æ®æç¤ºçš„è·¯å¾„åˆ é™¤å¯¹åº”çš„ä¸´æ—¶æ–‡ä»¶

  - 2.æ¢å¤æ–‡ä»¶

  - ```sh
    æ¢å¤æµç¨‹
    vim -r demo.txt
    rm -f .demo.txt.swxxx
    é‡æ–°æ‰“å¼€æ–‡ä»¶å³å¯æ¢å¤
    ```

    

# Day4æœåŠ¡ å™¨

- ## æœåŠ¡å™¨æ¦‚è¿°

  - [æœåŠ¡å™¨](https://link.zhihu.com/?target=https%3A//www.pangdayun.com/)**çš„è‹±æ–‡åç§°ä¸ºâ€œ Serverâ€ï¼Œæ˜¯æŒ‡åœ¨ç½‘ç»œä¸Šæä¾›å„ç§æœåŠ¡çš„é«˜æ€§èƒ½è®¡ç®—æœºã€‚**ä½œä¸ºç½‘ç»œçš„èŠ‚ç‚¹ï¼Œå­˜å‚¨ã€å¤„ç†ç½‘ç»œä¸Š80ï¼…çš„æ•°æ®ã€ä¿¡æ¯ï¼Œå› æ­¤ä¹Ÿè¢«ç§°ä¸ºç½‘ç»œçš„çµé­‚

- ## è¿ç»´åŸºæ“ä½œ

  - ä¿®æ”¹&æŸ¥çœ‹ä¸»æœºåï¼š hostname ,hostnamectl

# Day5 æŸ¥çœ‹æ—¥å¿—å››å‰‘å®¢

> æŸ¥çœ‹æ—¥å¿—ä¸è¦ä½¿ç”¨ï¼Œcatï¼Œvim,viå‘½ä»¤ã€‚		

- LinuxæŸ¥è¯¢æ—¥å¿—ï¼Œæ–‡ä»¶è¾ƒå¤§ï¼Œç³»ç»Ÿå¯èƒ½ä¼šå¡æ­»ï¼Œå†…å­˜ä¸è¶³

- æ¨èä½¿ç”¨ä¸ä¼šå ç”¨ç³»ç»Ÿå¤ªå¤šèµ„æºçš„å‘½ä»¤ï¼ŒæŸ¥çœ‹æ—¥å¿—ï¼šhead/tail ,less/more

## æ—¥å¿—æŸ¥è¯¢å‘½ä»¤çš„ä½¿ç”¨  

- ### head æ˜¾ç¤ºæ–‡ä»¶çš„å¤´å‡ è¡Œï¼Œé»˜è®¤æ˜¯å¤´10è¡Œ é€‰é¡¹ -n  numæ˜¾ç¤ºå¤´num è¡Œ

  ```sh
  æ¡ˆä¾‹01 æ˜¾ç¤º/etc/passwd çš„å‰5è¡Œ
   head -n5 /etc/passwd
   head -n 5 /etc/passwd
   head -5 /etc/passwd
  ```

  > âš  æ¸©é¦¨æç¤º:
  >
  > ä¸€èˆ¬æƒ…å†µä¸‹,ä½¿ç”¨-æ•°å­—å³å¯.å¦‚æœ-5æŠ¥é”™æˆ–æ— æ³•ä½¿ç”¨,åˆ™ä½¿ç”¨-n5
  >
  > å½¢å¼

- ### tailæ˜¾ç¤ºæ–‡ä»¶çš„åå‡ è¡Œï¼Œé»˜è®¤æ˜¯å10è¡Œ

  | tailé€‰é¡¹ |                      |
  | -------- | -------------------- |
  | -n num   | æ˜¾ç¤ºæœ€ånumè¡Œ        |
  | -f       | å®æ—¶æ˜¾ç¤ºæ–‡ä»¶æœ«å°¾æ›´æ–° |

  ```sh
  æ¡ˆä¾‹02 æ˜¾ç¤º/etc/passwd çš„å5è¡Œ
  tail -n5 /etc/passwd
  tail -5 /etc/passwd
  ```

- ### less æŒ‰é¡µæ˜¾ç¤ºæ–‡ä»¶å†…å®¹

  > ä¸€é¡µä¸€é¡µæ˜¾ç¤ºæ–‡ä»¶å†…å®¹ä¹Ÿå¯ä¹Ÿè¿›è¡Œæœç´¢

| lessé€‰é¡¹ä¸å¿«æ·æ–¹å¼ | è¯´æ˜                   |
| ------------------ | ---------------------- |
| q                  | é€€å‡º                   |
| ç©ºæ ¼æˆ–f            | ä¸‹ä¸€é¡µ                 |
| b                  | ä¸Šä¸€é¡µ                 |
| G                  | æœ€åä¸€è¡Œ               |
| g                  | ç¬¬ä¸€è¡Œ                 |
| 99g                | åˆ°99è¡Œ                 |
| /å†…å®¹              | æœç´¢ï¼Œnç»§ç»­å‘ä¸‹ï¼ŒNå‘ä¸Š |
| less - n           | æ˜¾ç¤ºè¡Œå·               |

- ### more æŒ‰é¡µæ˜¾ç¤ºæ–‡ä»¶å†…å®¹åˆ°è¾¾æœ€åä¸€è¡Œå°±é€€å‡º

  åŠŸèƒ½ä¸lessç±»ä¼¼

- ## wcç»Ÿè®¡  :star::star::star::star::star:

> é€‰é¡¹ï¼š -l  ç»Ÿè®¡è¡Œæ•°

```sh
#æ¡ˆä¾‹ 04 ç»Ÿè®¡/etc/servicesæ–‡ä»¶æœ‰å¤šå°‘è¡Œ
wc -l /etc/services
11176 /etc/services
```

```sh
æ¡ˆä¾‹05 ç»Ÿè®¡ç³»ç»Ÿç”¨æˆ·ç™»å½•é”™è¯¯æ¬¡æ•°
#1. è¿‡æ»¤å‡ºæ—¥å¿—ä¸­é”™è¯¯ä¿¡æ¯
grep 'Failed password' /var/log/secure #è¿‡æ»¤
Jul 19 09:32:44 oldboy-83-lnb-v2 sshd[7082]: 
Failed password for root from 10.0.0.1 port 
65157 ssh2
Jul 19 09:32:55 oldboy-83-lnb-v2 sshd[7082]: 
Failed password for root from 10.0.0.1 port 
65157 ssh2
#2. äº¤ç»™wc -l ç»Ÿè®¡æ¬¡æ•°
grepå‘½ä»¤çš„ç»“æœä¼ é€’ç»™wc -lå‘½ä»¤ã€‚
grep 'Failed password' /var/log/secure | wc -l
2
```

> grepå‘½ä»¤è¿‡æ»¤ï¼Œåœ¨æ–‡ä»¶ä¸­ï¼Œå‘½ä»¤ç»“æœä¸­æ‰¾å‡ºä½ è¦çš„å†…å®¹.
>
> ç®¡é“ç¬¦å·
>
> å‘½ä»¤1 | å‘½ä»¤2 
>
> æŠŠå‰ä¸€ä¸ªå‘½ä»¤çš„ç»“æœ,ä¼ é€’ç»™åé¢çš„å‘½ä»¤ä½¿ç”¨
>
>  ç®¡é“ç¬¦å· |

## æ’åºå»é‡ç»„åˆâ­â­â­â­â­

- sort: æ’åº
- uniq: å»é‡	

- ### sort - æ’åº

  | sorté€‰é¡¹ | è¯´æ˜                           |
  | -------- | ------------------------------ |
  | -n       | æŒ‰ç…§æ•°å­—é¡ºåºæ’åº               |
  | -r       | é€†åº                           |
  | -k       | æŒ‡å®šæŸä¸€åˆ—                     |
  | -t       | æŒ‡å®šåˆ†éš”ç¬¦==åªèƒ½æŒ‡å®šä¸€ä¸ªå­—ç¬¦== |

  ```sh
  20ké¢è¯•é¢˜-ä»¥.ä¸ºåˆ†éš”ç¬¦å¯¹ç¬¬3åˆ—å’Œç¬¬4åˆ—æ’åº.
  cat >/oldboy/sort-20k.txt<<EFO
  192.168.3.1 00:0F:AF:81:19:1F
  192.168.3.2 00:0F:AF:85:6C:25
  192.168.3.3 00:0F:AF:85:70:42
  192.168.2.20 00:0F:AF:85:55:DE
  192.168.2.21 00:0F:AF:85:6C:09
  192.168.2.22 00:0F:AF:85:5C:41
  192.168.0.151 00:0F:AF:85:6C:F6
  192.168.0.152 00:0F:AF:83:1F:65
  192.168.0.153 00:0F:AF:85:70:03
  192.168.1.10 00:30:15:A2:3B:B6
  192.168.1.11 00:30:15:A3:23:B7
  192.168.1.12 00:30:15:A2:3A:A1
  192.168.1.1 00:0F:AF:81:19:1F
  192.168.2.2 00:0F:AF:85:6C:25
  192.168.3.3 00:0F:AF:85:70:42
  192.168.2.20 00:0F:AF:85:55:DE
  192.168.1.21 00:0F:AF:85:6C:09
  192.168.2.22 00:0F:AF:85:5C:41
  192.168.0.151 00:0F:AF:85:6C:F6
  192.168.1.152 00:0F:AF:83:1F:65
  192.168.0.153 00:0F:AF:85:70:03
  192.168.3.10 00:30:15:A2:3B:B6
  192.168.1.11 00:30:15:A3:23:B7
  192.168.3.12 00:30:15:A2:3A:A1
  EOF
  æŒ‡å®šåˆ†éš”ç¬¦ï¼Œå¤šåˆ—æ’åºçš„æ—¶å€™å®¹æ˜“å‡ºç°æ’åºå¤±è¯¯ã€‚
  è¿™æ—¶å€™éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨å‘Šè¯‰sort, æ’åºçš„èŒƒå›´.
  #ä»¥.ä¸ºåˆ†éš”ç¬¦
  sort -t"." Â -rn Â -k3 sort-20k.txt
  sort -t"." Â -rn Â -k3,3 Â -k4,4 sort-20k.txt
  -rn æ•°å­—é€†åºæ’åº
  -k3,3 è¡¨ç¤ºä»…å¯¹ç¬¬3åˆ—æ’åº
  -k4,4 è¡¨ç¤ºä»…å¯¹ç¬¬4åˆ—æ’åº
  ```

  è¯¦ç»†æ¡ˆä¾‹ï¼šday06 

- ### uniq(å¤„ç†é™„è¿‘2è¡Œ)

â€‹	é€‰é¡¹ï¼š-c å»é‡å¹¶æ˜¾ç¤ºæ¬¡æ•°ï¼ˆé‡å¤æ¬¡æ•°ï¼‰

```sh
æ¡ˆä¾‹09 ç»Ÿè®¡secure-ip.txtæ–‡ä»¶ä¸­æ¯ä¸ªipå‡ºç°çš„æ¬¡æ•°å¹¶å–å‡ºå‰5
1.é€šè¿‡sortå¤„ç†ä¸‹
2.å»é‡uniq -c 
3.sortå¯¹æ¬¡æ•°è¿›è¡Œæ’åº
4.headå–å‡º5
sort secure-ip.txt |uniq -c |sort -rn |head -5 
68652 218.65.30.25
34326 218.65.30.53
21201 218.87.109.154
18065 112.85.42.103
17164 112.85.42.99
```

## æ—¥æœŸç»„åˆ

- ### date

- ### ntpdate

- ### ç‰¹æ®Šç¬¦å·

  ## date

  >  è®¾ç½®æˆ–æŸ¥çœ‹ç³»ç»Ÿæ—¶é—´ï¼Œæ—¶é—´å‘½ä»¤
  >
  > æœªæ¥ä¸»è¦ç”¨äºæŸ¥çœ‹æ—¥æœŸæˆ–è€…è¿‡å»æ—¥æœŸ

  | dateé€‰é¡¹ |                          |
  | -------- | ------------------------ |
  | +        | ä»¥xxxxæ ¼å¼æ˜¾ç¤ºæ—¶é—´ä¸æ—¥æœŸ |
  |          | %Fï¼ˆå¹´-æœˆ-æ—¥ï¼‰ %Y- %m-%d |
  |          | %w å‘¨å‡                   |
  |          | +%T %H:%M:%S æ—¶åˆ†ç§’      |
  | -d       | æ ¹æ®è¯´æ˜ä¿®æ”¹æ—¶é—´         |
  | -s       | ä¿®æ”¹æ—¶é—´                 |

  ```sh
  #æ¡ˆä¾‹10 æŒ‰ç…§æŒ‡å®šæ ¼å¼æ˜¾ç¤ºæ—¥æœŸ å¹´-æœˆ-æ—¥ 2022-11-11
  date +%F
  2022-07-19
  full å¯ä»¥ç†è§£ä¸ºå®Œæ•´çš„æ—¥æœŸ
  ```

  ```sh
  #æ¡ˆä¾‹11 æŒ‰ç…§æŒ‡å®šæ ¼å¼æ˜¾ç¤ºæ—¥æœŸ å¹´æœˆæ—¥ 20221111
  Year 
  month
  day 
  date +%Y%m%d
  20220719
  #æ¡ˆä¾‹12 æ˜¾ç¤ºå½“å‰æ—¶é—´ æ—¶:åˆ†:ç§’
  Hour
  Mintue 
  Second
  date +%T #T time 
  date +%H:%M:%S
  #æ¡ˆä¾‹13 æ˜¾ç¤ºå½“å‰æ—¥æœŸä¸º å¹´-æœˆ-æ—¥_å‘¨å‡ 
  date +%F_%w Â  #%w weekday
  2022-07-19_2
  ```

  ```sh
  [root@oldboy-king-v3 oldboyÕÊ  date -d '-1 day'
  2022å¹´ 07æœˆ 18æ—¥ æ˜ŸæœŸä¸€ 15:15:58 CST
  [root@oldboy-king-v3 oldboyÕÊ  date -d '1 day'
  2022å¹´ 07æœˆ 20æ—¥ æ˜ŸæœŸä¸‰ 15:16:10 CST
  #æ¡ˆä¾‹14 æ˜¾ç¤º1å¤©çš„æ—¥æœŸ æŒ‰ç…§å¹´-æœˆ-æ—¥_å‘¨å‡ _å°æ—¶ æ ¼å¼æ˜¾ç¤º
  date -d '-1day' +%F_%w_%H Â 
  2022-07-18_1_15
  ```

  ```sh
  date -s '20221111 11:11:11'
  date -s '20221111'
  ```

  

## 	ntpdate åŒæ­¥æ—¶é—´å‘½ä»¤

```sh

#ä¿®æ”¹ç³»ç»Ÿæ—¶é—´ï¼Œè®©ç³»ç»Ÿæ—¶é—´ä¸åŒæ­¥.
date -s '20221111'
#å®‰è£…æ—¶é—´åŒæ­¥å‘½ä»¤
yum install -y ntpdate
#è¿›è¡Œæ—¶é—´åŒæ­¥
ntpdate ntp1.aliyun.com 
19 Jul 15:26:13 ntpdate[7937]: step time server 
120.25.115.20 offset -9880664.037056 sec
#æœ€åæ£€æŸ¥
dateå‘½ä»¤æŸ¥çœ‹æ—¶é—´
æç¤ºoffset xxx secè¡¨ç¤ºåŒæ­¥æˆåŠŸ
```



> ç‰¹æ®Šç¬¦å·ï¼š`` ,åå¼•å·é‡Œçš„å‘½ä»¤ä¼šè¢«æœ‰é™æ‰§è¡Œ

```sh
date +%F
touch backup-etcxxxxx.txt
touch backup-etc-`date +%F'.txt
ls -l backup-etc-2022-07-19.txt
```



- ## linuxæ–‡ä»¶å±æ€§

 ![](D:\ç”µè„‘ç®¡å®¶è¿ç§»æ–‡ä»¶\WeChat Files\wxid_yhnsz6whnawl21\FileStorage\Temp\1708589997473.png)

- inodeäºblockéƒ¨åˆ†

  - inodeç´¢å¼•èŠ‚ç‚¹,inodeå·ç ç±»ä¼¼äºèº«ä»½è¯å·ç ,é€šè¿‡inodeå·ç 

    å¯ä»¥æ‰¾åˆ°æ–‡ä»¶çš„å†…å®¹.

  -  inodeæ˜¯ä¸€ä¸ªç©ºé—´ï¼Œinodeå·æ˜¯ç©ºé—´çš„ä½ç½®,ç±»ä¼¼äºèº«ä»½

    è¯,inodeç©ºé—´å­˜æ”¾:

    â€‹	inodeç©ºé—´ä¸­å­˜æ”¾çš„æ˜¯ æ–‡ä»¶å±æ€§ä¿¡æ¯ ,æ–‡ä»¶å¤§å°,ä¿®æ”¹

    â€‹	æ—¶é—´,æƒé™,æ‰€æœ‰è€…

    â€‹	inodeç©ºé—´ä¸­å­˜æ”¾blockçš„ä½ç½®(æŒ‡å‘æ–‡ä»¶å®ä½“çš„æŒ‡é’ˆ)

    â€‹	è¿™é‡Œä¸å­˜æ”¾æ–‡ä»¶å.

  â€‹	â­ blockå—(æ•°æ®å—): å­˜æ”¾æ•°æ®

  - Inodeå’Œblockçš„å…³ç³»

<img src="D:\ç”µè„‘ç®¡å®¶è¿ç§»æ–‡ä»¶\WeChat Files\wxid_yhnsz6whnawl21\FileStorage\Temp\1708589899811.png" style="zoom:80%;" />

### 	ç”¨æˆ·è®¿é—®æŸ¥çœ‹oldboy.txtæ–‡ä»¶å†…å®¹çš„æµç¨‹:

â€‹		1.ç”¨æˆ·è®¿é—®oldboy.txtçš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šæ‰¾å‡ºä»–å¯¹åº”çš„

â€‹		inodeç©ºé—´ï¼ˆæ ¹æ®inodeå·ç )ã€‚

â€‹		2.è®¿é—®æ¥åˆ°inodeç©ºé—´åï¼Œç¡®è®¤ç”¨æˆ·,ç¡®è®¤æƒé™ã€‚

â€‹		3.æƒé™ä¿¡æ¯æ­£ç¡®å°±å‡†è®¸é€šè¿‡ï¼Œå¯ä»¥è®¿é—®inodeå¯¹åº”çš„

â€‹		blockåŒºåŸŸï¼ˆæ•°æ®ï¼‰ã€‚

### 	inodeå’Œblockç‰¹ç‚¹

â€‹		inodeç´¢å¼•èŠ‚ç‚¹ï¼Œå­˜æ”¾æ–‡ä»¶å±æ€§ä¿¡æ¯ï¼Œblockä½ç½®



### 	æŸ¥çœ‹

â€‹	==df -h==ï¼šæŸ¥çœ‹blockçš„ä½¿ç”¨æƒ…å†µï¼ˆç£ç›˜ç©ºé—´ï¼‰

â€‹	==df -i==:æŸ¥çœ‹inodeçš„ä½¿ç”¨æƒ…å†µ

â€‹	==ll -h==:æŸ¥çœ‹æ–‡ä»¶å¤§å°

â€‹	==du -sh==æŸ¥çœ‹ç›®å½•æ‰€å ç©ºé—´

> ==è¯¾å¤–å°çŸ¥è¯†:== æ–‡ä»¶åæ˜¯å­˜æ”¾åœ¨ç›®å½•çš„blockä¸­çš„. æ²¡æœ‰å­˜æ”¾åœ¨
>
> inodeä¸­,æ‰€ä»¥æ–‡ä»¶åä¸æ˜¯æ–‡ä»¶å±æ€§

Linuxæ–‡ä»¶ç±»å‹ 	:star2::star2:

| Linuxå¸¸è§æ–‡ä»¶ç±»å‹ | å«ä¹‰                                 |
| ----------------- | ------------------------------------ |
| -                 | æ–‡ä»¶èŒƒå›´ï¼ŒèŒƒå›´å¹¿                     |
| d                 | ç›®å½•                                 |
| l                 | è½¯è¿æ¥ï¼Œç±»ä¼¼äºWindowså¿«æ·æ–¹å¼        |
| b                 | å—è®¾å¤‡                               |
| s                 | socketæ–‡ä»¶                           |
| p                 | ç®¡é“æ–‡ä»¶                             |
| c                 | å­—ç¬¦è®¾å¤‡ char ç‰¹æ®Šæ–‡ä»¶,ä¸æ–­è¾“å‡º,å¸å…¥ |

> å¯ç”¨ file å‘½ä»¤æŸ¥çœ‹è¯¦ç»†æ–‡ä»¶ç±»å‹

## **è½¯ç¡¬é“¾æ¥** â­â­â­â­â­

- ### æ¦‚è¿°

  - è½¯ï¼šç±»ä¼¼äºwindowsä¸­å¿«æ·æ–¹å¼,ä¹Ÿæ˜¯ä¸€ç§æ–‡ä»¶;ç”¨äºå­˜æ”¾æº

    æ–‡ä»¶çš„è·¯å¾„(ä½ç½®+åå­—),åº”ç”¨æœ€å¤š.

  - ç¡¬ï¼šåœ¨åŒä¸€ä¸ªåˆ†åŒºä¸­,ä¸åŒçš„æ–‡ä»¶çš„inodeå·ç ç›¸åŒäº†,è¿™äº›

    æ–‡ä»¶äº’ä¸ºç¡¬é“¾æ¥,å¾ˆå°‘ä½¿ç”¨.

- ### åˆ›å»º

  - ==ln(link)å‘½ä»¤==

    ```sh
    ln -s åˆ›å»ºè½¯è¿æ¥
    ln åˆ›å»ºç¡¬è¿æ¥
    
    ln -s oldboy.txt oldboy.txt_soft
    
    ```

    

## æ‰“åŒ…å‹ç¼©

| å‹ç¼©å‘½ä»¤    | åº”ç”¨           |
| ----------- | -------------- |
| tar:star:   | å¤§éƒ¨åˆ†åº”ç”¨åœºæ™¯ |
| gzip        | ä¸€èˆ¬           |
| zipï¼Œunizip | ä¸€èˆ¬           |

### tar :star::star::star:

- æ‰“åŒ…ï¼ˆå°†æ–‡ä»¶æ”¾åˆ°ä¸€èµ·ï¼‰tarå‘½ä»¤
- å‹ç¼©ï¼ˆè¿›è¡Œå‹ç¼©ï¼ŒèŠ‚çº¦ç©ºé—´ï¼‰tarå‘½ä»¤çš„ä¸€äº›é€‰é¡¹

| tarå‘½ä»¤  | é€‰é¡¹ä¸è¯´æ˜                            |
| -------- | ------------------------------------- |
| åˆ›å»º zcf | tar zcf å‹ç¼©åŒ… è¢«å‹ç¼©çš„æ–‡ä»¶/ç›®å½• .... |
| æŸ¥çœ‹ tf  | tar tf /tmp/etc.tar.gz                |
| è§£å‹ xf  | tar xf /tmp/etc.tar.gztar             |

### è§£å‹åˆ°æŒ‡å®šç›®å½•

```sh
è§£å‹etc.tar.gz åˆ°/mntç›®å½•ä¸‹
-Cè§£å‹åˆ°æŒ‡å®šç›®å½•
tar xf å‹ç¼©åŒ… -C è§£å‹åçš„å­˜æ”¾ç›®å½•
tar xf /tmp/etc.tar.gz -C /mnt/
```





# å››å‰‘å®¢-grep â­â­â­â­â­

- è¿‡æ»¤:åœ¨æ–‡ä»¶ä¸­æˆ–ç®¡é“ä¸­è¿›è¡ŒæŸ¥æ‰¾,æ‰¾å‡ºæƒ³è¦çš„å†…å®¹ï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼Œ

  é»˜è®¤æŒ‰ç…§è¡ŒæŸ¥æ‰¾

- grepä¼šæŠŠåŒ¹é…åˆ°çš„è¡Œæ˜¾ç¤ºå‡ºæ¥.

> è¡¥å……ï¼š4å‰‘å®¢
>
> ==awk,sed,grep,find==

| grepé€‰é¡¹ | é€‰é¡¹åŠå†…å®¹       |
| -------- | ---------------- |
| -n       | æ˜¾ç¤ºæ‰€åœ¨è¡Œå·     |
| -i       | ä¸åŒºåˆ†å¤§å°å†™è¿‡æ»¤ |
| -v       | æ’é™¤ï¼Œå–å       |

```sh
grep 'root' /etc/passwd
root:x:0:0:root:/root:/bin/bash
operator:x:11:0:operator:/root:/sbin/nologin

```

```sh
grep -n 'ssh' /etc/services 
46:ssh             22/tcp                          # The Secure Shell (SSH) Protocol
47:ssh             22/udp                          # The Secure Shell (SSH) Protocol
552:x11-ssh-offset  6010/tcp                        # SSH X11 forwarding offset
592:ssh             22/sctp                 # SSH

```

# å››å‰‘å®¢-findâ­â­â­â­â­

- æ“…é•¿æŸ¥æ‰¾

| findé€‰é¡¹ | è¯¦ç»†è§£é‡Š                             |
| -------- | ------------------------------------ |
| -type    | æŸ¥æ‰¾ç±»å‹  fï¼šæ–‡ä»¶ dï¼šç›®å½•            |
| -name    | æ–‡ä»¶å                               |
| -size    | æ ¹æ®å¤§å°æŸ¥æ‰¾æ–‡ä»¶ å¤§äºä½¿ç”¨+ å°äºä½¿ç”¨- |
| -mtime   | +7 :7å¤©ä¹‹å‰çš„   -7ï¼šæœ€è¿‘7å¤©          |

```sh
#æ¡ˆä¾‹01 åœ¨/etc/ç›®å½•ä¸­æ‰¾å‡ºæ–‡ä»¶åå«hostnameæ–‡ä»¶
ç²¾ç¡®æŸ¥æ‰¾ï¼ŒæŒ‡å®šæ–‡ä»¶åã€‚
find /etc/ Â  -type f Â -name 'hostname'
/etc/hostname
#æ¡ˆä¾‹02 æ‰¾å‡º/etc/ä¸‹é¢ä»¥.confç»“å°¾çš„æ–‡ä»¶
æ¨¡ç³ŠæŸ¥æ‰¾
a.conf b.conf c.conf lidao.conf xxxx.conf 
find /etc/ -type f -name '*.conf'

```

## ç»¼åˆæ¡ˆä¾‹

```sh
#æ¡ˆä¾‹05 æ‰¾å‡º/etc/ä¸­ä»¥.confç»“å°¾å¤§äº10kbä¿®æ”¹æ—¶é—´æ˜¯7å¤©ä¹‹å‰
çš„æ–‡ä»¶
find /etc/ -type f -name '*.conf' -size +10k Â -
mtime +7
/etc/lvm/lvm.conf
[root@oldboy83-prod ~]# ls -lh /etc/lvm/lvm.conf 
-rw-r--r--. 1 root root 94K 10æœˆ Â 1 2020
/etc/lvm/lvm.conf
```

```sh
#æ¡ˆä¾‹06 æŸ¥æ‰¾æ–‡ä»¶çš„æ—¶å€™æŒ‡å®šæœ€å¤šæ‰¾å¤šå°‘å±‚ç›®å½•.
find / -maxdepth 2 -type f -name '*.conf'
/etc/resolv.conf
/etc/asound.conf

-maxdepth 1 é€‰é¡¹ä½ç½®ç¬¬1ä¸ªï¼ŒæŒ‡å®šfindå‘½ä»¤æŸ¥æ‰¾çš„æœ€å¤§æ·±åº¦
ï¼ˆå±‚æ•°ï¼‰ï¼Œä¸åŠ ä¸Šå°±æ˜¯æ‰€æœ‰å±‚ã€‚

#æ¡ˆä¾‹07 æŸ¥æ‰¾çš„æ—¶å€™ä¸åŒºåˆ†æ–‡ä»¶åçš„å¤§å°å†™
find / Â  -type f -iname "*.conf"

```

## findå‘½ä»¤äºå…¶ä»–å‘½ä»¤é…åˆ

> ==findä¸|xargsä½¿ç”¨æ—¶å€™findæ‰¾åˆ°çš„æ–‡ä»¶æŸäººæ”¾åœ¨ä¸‹ä¸€ä¸ªå‘½ä»¤åé¢==

- find+ç®€å•å‘½ä»¤ ï¼šfindæ‰¾å‡ºæƒ³è¦çš„æ–‡ä»¶åˆ é™¤,çœ‹è¯¦

  ç»†ä¿¡æ¯ï¼Œæ˜¾ç¤ºæ–‡ä»¶å†…å®¹ï¼Œè¿‡æ»¤ã€‚

- find+æ‰“åŒ…å‹ç¼©ï¼š findæ‰¾å‡ºæ–‡ä»¶è¿›è¡Œæ‰“åŒ…å‹ç¼©

- find+cp/mv:findæ‰¾å‡ºæ–‡ä»¶åå¤åˆ¶æˆ–ç§»åŠ¨

### æ‰¾å‡º/oldboy/find/ä»¥.txtç»“å°¾çš„æ–‡**ä»¶æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯**â­â­â­

> è¿™é‡Œä¸»è¦ç”¨åˆ°find+lsé…åˆï¼Œåé¢çš„å…¶ä»–é…åˆfind+rmï¼Œ
>
> find+cat/head/tail/ï¼Œfind+grepéƒ½ç±»ä¼¼ã€‚
>
> findä¸è¦ä¸äº¤äº’å¼å‘½ä»¤é…åˆfind+vi/vim âŒ

- æ–¹æ³•01 find  ``â­ â­ â­ â­ â­ 

> findä¸å…¶ä»–å‘½ä»¤é…åˆå¿…ä¼šæ–¹æ³• find + åå¼•å·+å…¶ä»–å‘½ä»¤

```sh
ls -lh findå‘½ä»¤çš„ç»“æœ
ls -lh `find /oldboy/find/ -type f -name 
'*.txt'`
ls -lh $(find /oldboy/find/ -type f -name 
'*.txt')
å…ˆè¿è¡Œfindå‘½ä»¤æ‰¾å‡ºæ–‡ä»¶ï¼Œç„¶åè¿è¡Œlsæ˜¾ç¤ºæ–‡ä»¶è¯¦ç»†ä¿¡æ¯ã€‚
```

- æ–¹æ³•02 find |xargs â­ â­ 

  > æˆ‘ä»¬å‘ç°findå‘½ä»¤ä½¿ç”¨ç®¡é“æŠŠæ•°æ®ä¼ è¾“ç»™å…¶ä»–å‘½ä»¤å¤±è´¥äº†ï¼ï¼ï¼
  >
  > find /oldboy/find/ -type f -name "*.txt" | ls -l
  >
  > æ— æ³•ä½¿ç”¨ã€‚
  >
  > å…³äºç®¡é“çš„ç§˜å¯†:
  >
  > find /oldboy/find/ -type f -name '*.txt' | ls-lh
  >
  > ls é€‰é¡¹ å‚æ•°
  >
  > é”™è¯¯çš„å¿ƒè·¯å†ç¨‹ï¼šé»˜è®¤ç®¡é“æ˜¯æ— æ³•æŠŠæ•°æ®å˜åŒ–ä¸ºå‘½ä»¤çš„å‚æ•°ï¼Œå¯¼è‡´ä¼ é€’å¤±è´¥ï¼Œfind
  >
  > å‘½ä»¤æ‰¾å‡ºçš„å†…å®¹ç›¸å½“äºè¢«ä¸¢å¼ƒäº†ï¼Œå°±ç›¸å½“äºæ‰§è¡Œls -lhå‘½ä»¤ï¼Œæ˜¾ç¤ºå½“
  >
  > å‰ç›®å½•ä¸‹å†…å®¹å¹¶è¯¦ç»†ä¿¡æ¯ã€‚
  >
  > æ•…éšœåŸå› :
  >
  > å‰é¢çš„å‘½ä»¤é€šè¿‡ç®¡é“ä¼ é€’ç»™åé¢å‘½ä»¤,ä¼ é€’çš„æ˜¯ å­—ç¬¦ä¸² .
  >
  > è¿™ä¸ªå‘½ä»¤(ls)ä¸­ä¼ é€’æ–‡å­—ç¬¦å·å°±ä¸è¡Œ,ä¼ é€’ å‚æ•° .
  >
  > æ‰€ä»¥ä¸Šé¢çš„å‘½ä»¤ç›¸å½“äºfindç™½ç™½æµªè´¹äº†,ä»…ä»…æ‰§è¡Œäº†ä¸‹ls -lhè€Œå·² .
  >
  > å¦‚ä½•è§£å†³:
  >
  > é€šè¿‡|xargsæŠŠå‰é¢å‘½ä»¤ä¼ é€’è¿‡æ¥çš„å­—ç¬¦ä¸²è½¬æ¢ä¸ºåé¢å‘½ä»¤å¯ä»¥è¯†
  >
  > åˆ«å‚æ•°.

```sh
æ•ˆæœå±•ç¤ºï¼š
find /oldboy/find/ Â -type f Â -name '*.txt' |xargs 
Â ls -lh
```

##   findä¸æ‰“åŒ…å‹ç¼©

- findæ‰¾å‡º/oldboy/find/ ä»¥.txtç»“å°¾çš„æ–‡ä»¶æ”¾åœ¨/tmp/find.tar.gz 

æ³•1 find ``

```sh
tar zcf /tmp/find.tar.gz Â `find /oldboy/find/ -
type f -name '*.txt'`
```

æ³•2 find + |xargs

```sh
find /oldboy/find/ Â -type f Â -name '*.txt'|xargs 
tar zcf /tmp/etc-xargs.tar.gz
```

æ³•3 find +exec

```sh
find /oldboy/find/ Â -type f Â -name '*.txt' Â -exec 
tar zcf /tmp/find-exec.tar.gz {} \;
æœ‰å‘,å› ä¸º-exec \;æ‰§è¡Œæ–¹å¼ 1ä¸ªæ–‡ä»¶1ä¸ªæ–‡ä»¶çš„å‹ç¼©.
find /oldboy/find/ Â -type f Â -name '*.txt' Â -exec 
tar zcf /tmp/find-exec.tar.gz {} Â +
```



## findä¸å¤åˆ¶æˆ–ç§»åŠ¨

- findæ‰¾å‡º/oldboy/find/ ä»¥.txtç»“å°¾çš„æ–‡ä»¶ç„¶åå¤åˆ¶åˆ°/tmpä¸‹é¢

æ³•1 find +``

```sh
cp `find /oldboy/find/ -type f -name '*.txt'` /tmp/
```

æ³•2 find+|args

```sh
find xxx Â  |xargs cp /tmp/
è¿è¡Œçš„æ—¶å€™
1. findæ‰¾å‡ºæ–‡ä»¶ oldboy01 ÕÕÊ¢ oldboy10 
2. æŠŠ10ä¸ªæ–‡ä»¶ä¼ è¾“ç»™cpå‘½ä»¤
3. cp /tmp/ oldboy01 ÕÕÊ¢ oldboy10 
cp -t /tmp/ oldboy01 ÕÕÊ¢ oldboy10 Â 
cp -t ç›®æ ‡ Â  æº æ–‡ä»¶ ç›®å½• ..... 
å¦‚ä½•è§£å†³
find /oldboy/find/ Â -type f Â -name '*.txt'
|xargs cp -t /tmp/
```

æ–¹æ³•03 find + -exec 

```sh
find /oldboy/find/ Â -type f Â -name '*.txt' -exec 
cp {} /tmp/ \;
```



# åˆ«åä¸ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ



æŸ¥çœ‹åˆ«å :==alias==

## è®¾ç½®åˆ«å

```sh
alias rm='echo rm command is not found'
#è®¾ç½®åˆ«å
alias æ˜µç§°='å‘½ä»¤'
alias rm 
alias rm='echo rm command is not found'
```

> å¦‚æœæƒ³çœŸçš„åˆ é™¤æ–‡ä»¶(ä¸´æ—¶å–æ¶ˆåˆ«å):
>
> ğŸ…° ä½¿ç”¨å‘½ä»¤ç»å¯¹è·¯å¾„ /bin/rm 
>
> ğŸ…± ä½¿ç”¨æ’¬æ£(åæ–œçº¿) \åˆ«å

```sh
 \rm /oldboy/oldboy.txt
```

## æ°¸ç”Ÿ

> ä¸€èˆ¬å‘½ä»¤è¡Œçš„æ“ä½œéƒ½æ˜¯ä¸´æ—¶ï¼Œé‡å¯æˆ–é‡æ–°ç™»å½•å¤±æ•ˆäº†ã€‚
>
> è¿™æ—¶å€™æˆ‘ä»¬è¦è®°å¾—è®©é…ç½®æ°¸ä¹…ç”Ÿæ•ˆï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶ã€‚
>
> ä¿®æ”¹é…ç½®æ–‡ä»¶ ~/.bashrcï¼ˆå½“å‰ç”¨æˆ·ç”Ÿæ•ˆï¼‰ 
>
> /etc/profileï¼ˆå…¨å±€catï¼‰
>
> å…³äºäº•å·# è¡¨ç¤ºæ³¨é‡Šï¼Œ#å·ä¹‹åçš„å†…å®¹ç³»ç»Ÿè®¤ä¸ºä¸å­˜åœ¨ï¼Œä¼šå¿½ç•¥æ‰ã€‚
>
> å…³äºåˆ«åç”Ÿæ•ˆï¼šé‡æ–°ç™»å½•å³å¯ï¼Œæ–­å¼€è¿æ¥ç„¶åé‡æ–°è¿æ¥ã€‚
>
> \#ä¿®æ”¹/etc/profile 
>
> åœ¨æœ€åä¸€è¡Œå†™å…¥é…ç½®åˆ«åçš„å‘½ä»¤ã€‚



```sh
#ä¿®æ”¹/etc/profile 
#ä¿®æ”¹é…ç½®æ–‡ä»¶ ~/.bashrcï¼ˆå½“å‰ç”¨æˆ·ç”Ÿæ•ˆï¼‰ 
åœ¨æœ€åä¸€è¡Œå†™å…¥é…ç½®åˆ«åçš„å‘½ä»¤ã€‚
alias rm='echo rm command is not found'
#è®©é…ç½®æ–‡ä»¶ç”Ÿæ•ˆï¼ˆsourceç›®å‰ä»…ç”¨äºprofileæ–‡ä»¶ï¼‰
source /etc/profile
#æ£€æŸ¥åˆ«å
alias Â rm 
alias rm='echo rm command is not found'
#æœªæ¥é™¤äº†rm,cp,mvå‘½ä»¤çš„åˆ«åï¼Œé…ç½®åˆ°æ­¤ä¸ºæ­¢ã€‚
å¯¹äºrm,cp,mvå‘½ä»¤çš„åˆ«åï¼Œè¿˜è¦é¢å¤–é…ç½®ä¸‹ï¼Œå¦åˆ™ä¸ç”Ÿæ•ˆã€‚
#æ³¨é‡Šæ‰~/.bashrcé‡Œé¢å·²ç»é…ç½®çš„åˆ«å
ä¿®æ”¹~/.bashrc æ³¨é‡Š#alias rm='rm -i' è¿™ä¸€è¡Œ
#æ£€æŸ¥æ³¨é‡Šç»“æœ
[root@oldboy-lnb-king-v3 ~]# grep 'rm' ~/.bashrc
#alias rm='rm -i
```





# ç”¨æˆ·ç®¡ç† 

| ç”¨æˆ·åˆ†ç±» | åˆ†ç±»æ–¹æ³•                                           |
| -------- | -------------------------------------------------- |
| root     | uidæ˜¯0                                             |
| æ™®é€šç”¨æˆ· | uid>=1000(C7ä¹‹åï¼‰                                 |
| è™šæ‹Ÿç”¨æˆ· | uid <1000, ä¹Ÿå«å‚€å„¡ç”¨æˆ·, ç”¨äºæœåŠ¡,è¿›ç¨‹è¿è¡Œä½¿ç”¨çš„ç”¨ |

> æç¤ºï¼šuidæ˜¯åˆ†ç±»çš„1ä¸­æ–¹æ³•

## ç”¨æˆ·ç›¸å…³çš„æ–‡ä»¶

> Linuxä¸‹æ¯åˆ›å»ºä¸€ä¸ªç”¨æˆ·ï¼Œä¸€èˆ¬ä¼šå½±å“ä¸‹é¢å‡ ä¸ªæ–‡ä»¶

| ç”¨æˆ·ç›¸å…³æ–‡ä»¶ |                              |
| ------------ | ---------------------------- |
| /etc/passwd  | å­˜æ”¾ç”¨æˆ·ä¿¡æ¯                 |
| /etc/shadow  | å­˜æ”¾å¯†ç ä¿¡æ¯                 |
| /etc/group   | ç”¨æˆ·ç»„ä¿¡æ¯                   |
| /etc/gshadow | ç”¨æˆ·ç»„å¯†ç ä¿¡æ¯ï¼Œå‡ ä¹ä¸ä¼šè®¾ç½® |

- /etc/passwd æ¯ä¸€åˆ—å«ä¹‰

  ![](D:\ç”µè„‘ç®¡å®¶è¿ç§»æ–‡ä»¶\WeChat Files\wxid_yhnsz6whnawl21\FileStorage\Temp\1708617277163.png)

## ç”¨æˆ·ç®¡ç†æŒ‡ä»¤

- ### å¢åŠ useradd

  | ueraddé€‰é¡¹ | è¯´æ˜                            |
  | ---------- | ------------------------------- |
  | -u         | æŒ‡å®šç”¨æˆ·uid                     |
  | -s         | æŒ‡å®šå‘½ä»¤è§£é‡Šå™¨ï¼Œé»˜è®¤æ˜¯/bin/bash |
  | -M         | ä¸åˆ›å»ºå®¶ç›®å½•                    |

  ```sh
  #æ·»åŠ ç”¨æˆ· oldboy 
  useradd oldboy 
  grep 'oldboy' /etc/passwd
   -s /sbin/nologin -M Â  mysql 
  [root@oldboy-lnb-king-v3 ~]# grep 'mysql' 
  /etc/passwd /etc/group /etc/shadow
  /etc/passwd:mysql:x:1314:1314::/home/mysql:/sbin
  /nologin
  /etc/group:mysql:x:1314:
  /etc/shadow:mysql:!!:19331:0:99999:7ÕÕÊ§
  
  
  id mysql 
  uid=1314(mysql) gid=1314(mysql) ç»„=1314(mysql)
  ```

  - ### ä¿®æ”¹å¯†ç  passwd

    | passwdé€‰é¡¹ | è¯´æ˜             |
    | ---------- | ---------------- |
    | --stdin    | éäº¤äº’å¼è®¾ç½®å¯†ç  |

  - ### åˆ‡æ¢ç”¨æˆ·   su-

```sh
su - oldboy
#é€€å‡ºå½“å‰ç”¨æˆ·
ctrl + d #ç›¸å½“äºlogoutå‘½ä»¤
su switch user åˆ‡æ¢ç”¨æˆ·ã€‚
```

> âš  æ¸©é¦¨æç¤º: å…³äºsu - ä¸suå‘½ä»¤
>
> suå‘½ä»¤ä¸­çš„-,æ˜¯suå‘½ä»¤çš„é€‰é¡¹: -, -l, ÕÊ”login
>
> åˆ‡æ¢ç”¨æˆ·çš„æ—¶å€™,æ›´æ–°ç”¨æˆ·çš„é…ç½®ä¸ç¯å¢ƒå˜é‡ã€‚

- ### åˆ é™¤ userdel

  | userdelé€‰é¡¹ |                  |
  | ----------- | ---------------- |
  | -r          | åˆ é™¤ç”¨æˆ·åŠå®¶ç›®å½• |

  ```sh
  åˆ é™¤ç”¨æˆ· mysql 
  userdel mysql
  grep 'mysql' /etc/passwd
  å½»åº•åˆ é™¤ç”¨æˆ·åŒ…å«å®¶ç›®å½•
  [root@oldboy-king-v2 ~]# ll -a /home/oldboy 
  æ€»ç”¨é‡ 16
  drwx------. 2 oldboy oldboy Â 83 7æœˆ Â 22 10:50 .drwxr-xr-x. 3 root Â  root Â  Â 20 7æœˆ Â 22 10:28 ÕÊ¡
  -rw-------. 1 oldboy oldboy Â 70 7æœˆ Â 22 11:03 
  .bash_history
  -rw-rÕÊ”rÕÊ”. 1 oldboy oldboy Â 18 4æœˆ Â  1 2020
  .bash_logout
  -rw-rÕÊ”rÕÊ”. 1 oldboy oldboy 193 4æœˆ Â  1 2020
  .bash_profile
  -rw-rÕÊ”rÕÊ”. 1 oldboy oldboy 231 4æœˆ Â  1 2020
  .bashrc
  [root@oldboy-king-v2 ~]# userdel -r oldboy 
  [root@oldboy-king-v2 ~]# ll -a /home/oldboy 
  ls: æ— æ³•è®¿é—®/home/oldboy: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•
  [root@oldboy-king-v2 ~]# grep oldboy /etc/passwd
  ```

  - ### æŸ¥çœ‹

    -  id æŸ¥è¯¢ç”¨æˆ·çš„uid,gid,ç”¨æˆ·ç»„ä¿¡æ¯,æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å­˜åœ¨
    - whoami æŸ¥è¯¢å½“å‰ç”¨æˆ·çš„åå­—
    - w æŸ¥çœ‹å½“å‰ç™»å½•çš„ç”¨æˆ·çš„ä¿¡æ¯
    - last ç”¨æˆ·çš„ç™»å½•æƒ…å†µ
    - lastlog æ‰€æœ‰ç”¨æˆ·æœ€è¿‘1æ¬¡ç™»å½•æƒ…å†µ
  
  ```sh
  #id æŸ¥çœ‹ç”¨æˆ·idä¿¡æ¯ uid gid å±äºçš„ç”¨æˆ·ç»„ åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å­˜åœ¨
  2 [root@oldboy-lnb-king-v3 ~]# id oldboy
  3 uid=1000(oldboy) gid=1000(oldboy) ç»„=1000(oldboy)
  4 [root@oldboy-lnb-king-v3 ~]# usermod -G root oldboy Â  #è®©oldboyç”¨æˆ·å±äºoldboyç»„å’Œrootç»„
  5 [root@oldboy-lnb-king-v3 ~]# id oldboy
  6 uid=1000(oldboy) gid=1000(oldboy) ç»„=1000(oldboy),0(root)
  7 [root@oldboy-lnb-king-v3 ~]# usermod -G '' oldboy Â  Â  #æŠŠoldboyä»rootç»„è¸¢å‡º
  8 [root@oldboy-lnb-king-v3 ~]# id oldboy
  9 uid=1000(oldboy) gid=1000(oldboy) ç»„=1000(oldboy)
  ```
  
  ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240223140823065.png)



### sudo æˆæƒäºç®¡ç†

```sh
#rootæˆæƒé…ç½®
visudo Â  = èƒŒåä¿®æ”¹ vi /etc/sudoers 
#æ™®é€šç”¨æˆ·ä½¿ç”¨
sudo + å‘½ä»¤

#rootç”¨æˆ·æˆæƒ
visudo Â  = vim /etc/sudoers
ç¬¬100è¡Œåé¢
oldboy Â ALL=(ALL) Â  Â  /bin/cat, /bin/head, /bin/tail, /bin/less, /bin/more, 
/bin/grep
#è¿‡æ»¤æ£€æŸ¥é…ç½®ç»“æœ
grep oldboy /etc/sudoers
#oldboyä½¿ç”¨
sudo head /var/log/secure
[sudo] oldboy çš„å¯†ç ï¼š Â #è¾“å…¥oldboyå¯†ç 
#æŸ¥çœ‹æ™®é€šç”¨æˆ·æ‹¥æœ‰çš„sudoæƒé™.
sudo -l æŸ¥çœ‹å½“å‰ç”¨æˆ·æœ‰ä»€ä¹ˆsudoæƒé™,å…³æ³¨æœ€å2è¡Œå³å¯
```

> è¿ç»´è‡ªå·±ä½¿ç”¨çš„æ™®é€šç”¨æˆ·  

```sh
lidao996 ALL=(ALL) Â  Â  NOPASSWD: ALL
grep lidao996 /etc/sudoers
```

## å°ç»“

- ä¸ºä½•ä½¿ç”¨sudo? ä»¥æ™®é€šç”¨æˆ·æƒé™è¿›è¡Œç®¡ç†ï¼Œæ‹¥æœ‰éƒ¨åˆ†çš„rootæƒé™
- å¦‚ä½•ç”¨ï¼Ÿrootè¿›è¡Œæˆæƒ:visudo æ™®é€šç”¨æˆ·ä¸‹é¢è¿›è¡Œä½¿ç”¨ï¼šsudo å‘½ä»¤ã€‚
- æœªæ¥è¿˜æœ‰åˆ«çš„æ–¹æ¡ˆå¯ä»¥ç”¨ï¼ˆå ¡å’æœºï¼‰ã€‚	



# å ¡å’æœºä¸è·³æ¿æœº

![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240223145557484.png)

## å ¡å’æœºæ­å»ºè¿‡ç¨‹

```sh

#ä¸‹è½½è½¯ä»¶åŒ…
ä»ç¾¤æ–‡ä»¶ä¸‹è½½ï¼Œå¹¶ä¸Šä¼ åˆ°Linuxå³å¯ã€‚
#æ£€æŸ¥æ–‡ä»¶å¤§å° Â 
[root@oldboy-lnb-king-v3 ~]# ll -h teleport-server-linux-x64-3.6.4-b3.tar.gz
-rw-r - r - . 1 root root 32M 12æœˆ Â 6 15:21 teleport-server-linux-x64-3.6.4-b3.tar.gz
#è§£å‹
[root@oldboy-lnb-king-v3 ~]# tar xf teleport-server-linux-x64-3.6.4-b3.tar.gz
[root@oldboy-lnb-king-v3 ~]# ll
ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ä¸­é—´ç»“æœç•¥è¿‡ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚
drwxr-xr-x. 5 oldboy oldboy Â  Â  Â  62 9æœˆ Â 13 10:07 teleport-server-linux-x64-3.6.4-b3
-rw-r - r - . 1 root Â  root Â  32717761 12æœˆ Â 6 15:21 teleport-server-linux-x64-3.6.4-
b3.tar.gz
#è¿›å…¥ç›®å½•å¹¶å®‰è£…
 cd teleport-server-linux-x64-3.6.4-b3/
 ./setup.sh
#æ ¹æ®æç¤ºè¿›è¡Œå®‰è£…
[]===========================================================================[]
 | Teleport Server Installation Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  |
 |===========================================================================|
 | Â  ver: 3.6.4 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  |
 | author: apex.liu@qq.com Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  |
[]===========================================================================[]
Welcome to install Teleport Server!
NOTICE: There are a few steps need you enter information or make choice,
 Â  Â  Â  Â if you want to use the DEFAULT choice, just press `Enter` key.
 Â  Â  Â  Otherwise you need enter the highlight character to make choice.
Prepare installation .
 - check local installation . [not exists]
Set installation path [/usr/local/teleport]: Â  ç›´æ¥å›è½¦å³å¯ï¼Œé™¤éåƒå®‰è£…åˆ°å…¶ä»–ç›®å½•ä¸‹é¢ã€‚
 - copy [/root/teleport-server-linux-x64-3.6.4-b3/data/bin]
 Â  Â  -> [/usr/local/teleport/bin]
 - copy [/root/teleport-server-linux-x64-3.6.4-b3/data/www]
 Â  Â  -> [/usr/local/teleport/www]
 - copy [/root/teleport-server-linux-x64-3.6.4-b3/data/tmp/etc]
 Â  Â  -> [/usr/local/teleport/data/etc]
process [daemon.in] to [/etc/init.d/teleport]
process [start.sh.in] to [/usr/local/teleport/start.sh]
process [stop.sh.in] to [/usr/local/teleport/stop.sh]
process [status.sh.in] to [/usr/local/teleport/status.sh]
start services .

starting teleport web . [done]
starting teleport core server . [done]
check services status .
teleport web server is running.
teleport core server is running.
=
[ ALL DONE ] = - #å…¨éƒ¨å®Œæˆå®‰è£…ã€‚
#æ£€æŸ¥teleportæ˜¯å¦è¿è¡Œä¸­ã€‚
/etc/init.d/teleport status #æ£€æŸ¥æ˜¯å¦è¿è¡Œ
teleport web server is running. Â #ok
teleport core server is running. #ok
å…³é—­æˆ–é‡å¯æœåŠ¡
/etc/init.d/teleport Â stop #å…³é—­æœåŠ¡
/etc/init.d/teleport Â start #å¼€å¯
/etc/init.d/teleport Â restart #é‡å¯

#å…³é—­é˜²ç«å¢™
systemctl stop firewalld 
systemctl disable firewalld 
#æ£€æŸ¥é˜²ç«å¢™æ˜¯å¦å…³é—­
systemctl status firewalld 
ä¸æ˜¾ç¤ºç»¿è‰²ï¼ˆrunning)å³å¯ã€‚
#å…³é—­selinux(å·¥ä½œä¸­åŸºæœ¬å…³é—­)
setenforce 0 #ä¸´æ—¶å…³é—­
vim /etc/selinux/config Â 
æ‰¾å‡ºä¸­é—´çš„è¡ŒSELINUX=enforcing ä¿®æ”¹ä¸º SELINUX=disabled
getenforce #ç»“æœæ˜¯permissiveæˆ–disabledéƒ½è¡¨ç¤ºå…³é—­ã€‚
 Â  Â  Â  Â  Â  #å¦‚æœæ˜¯enforcingè¡¨ç¤ºå¼€å¯
```



#  **Linux12**ä½æƒé™ç®¡ç†ä½“ç³»

- ## æ¦‚è¿°

  - Linuxé€šè¿‡rwx3ç§æƒé™æ§åˆ¶ç³»ç»Ÿä¸ä¿æŠ¤ç³»ç»Ÿ,ç»„æˆ9ä½æƒé™.
  - Linuxæƒé™ä½“ç³»ä¸­è¿˜æœ‰3ä½ç‰¹æ®Šæƒé™,ç»„åˆèµ·æ¥å°±æ˜¯12ä½æƒé™ä½“ç³»
  - Linuxè¿™ç®€å•çš„rwxæ§åˆ¶æ•´ä¸ªLinuxç³»ç»Ÿçš„å®‰å…¨,æƒé™ä¸ç”¨æˆ·å…±åŒç»„æˆLinuxç³»ç»Ÿçš„å®‰å…¨é˜²æŠ¤ä½“ç³».

  ## rwx

  | æƒé™ | å«ä¹‰                                 |
  | ---- | ------------------------------------ |
  | r    | readæ˜¯å¦å¯è¯»                         |
  | w    | write æ˜¯å¦å¯å†™                       |
  | x    | execute æ˜¯å¦å¯æ‰§è¡Œ(ä¸€èˆ¬æ˜¯å‘½ä»¤æˆ–è„šæœ¬) |

  ## ä¸ºä½•ä¸º9ä½æƒé™

  | **æ–‡ä»¶**ç›®å½•ä¸ç”¨æˆ·çš„å…³ç³» | **å«ä¹‰**                                                    |
  | ------------------------ | ----------------------------------------------------------- |
  | æ‰€æœ‰è€…                   | è¿™ä¸ªæ–‡ä»¶æˆ–ç›®å½•å±äºæŸä¸ªç”¨æˆ·(æ‰€æœ‰è€…)ã€‚ä½ è‡ªå·±                  |
  | ç”¨æˆ·ç»„(å®¶åº­)             | è¿™ä¸ªæ–‡ä»¶æˆ–ç›®å½•å±äºæŸä¸ªç”¨æˆ·ç»„(å®¶åº­)ã€‚å®¶äººã€‚                  |
  | å…¶ä»–äºº(é™Œç”Ÿäºº)           | è¿™ä¸ªæ–‡ä»¶æˆ–ç›®å½•ä¸å±äºæŸä¸ªç”¨æˆ· ä¹Ÿä¸å±äºè¿™ä¸ªç”¨æˆ·ç»„ã€‚éš”å£è€ç‹ã€‚ |

  

![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240223163216103.png)



![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240223163308120.png)

## **å¦‚ä½•è®¡ç®—æƒé™** â­ï¸â­ï¸â­ï¸â­ï¸â­

| **æƒé™** | **å«ä¹‰**                            | **æƒé™å¯¹åº”çš„æ•°å­—** |
| -------- | ----------------------------------- | ------------------ |
| r        | read æ˜¯å¦å¯è¯»                       | 4                  |
| w        | write æ˜¯å¦å¯å†™                      | 2                  |
| x        | execute æ˜¯å¦å¯æ‰§è¡Œ(ä¸€èˆ¬æ˜¯å‘½ä»¤,è„šæœ¬) | 1                  |
| -        | æ²¡æœ‰æƒé™                            | 0                  |

```sh
-rw-r - r - . Â 1 root root Â  Â 0 7æœˆ Â 18 08:53 oldboy01.txt
420400400
6 Â 4 Â 4
oldboy01.txtçš„æƒé™æ˜¯644
```

æ¡ˆä¾‹

```sh
å­—æ¯ > æ•°å­—
-rwxr-xr-x 755 Â  
-r - r - r - 444 Â 
-r - rw-rw- 466 Â 
æ•°å­— > å­—æ¯ï¼ˆæ–‡ä»¶ï¼‰
644 Â  -rw-r --r--
750 Â  -rwxr-x 
700 Â  -rwx------
600 Â  -rw-------
```



## ä¿®æ”¹æƒé™

chmodå‘½ä»¤: change mode ä½¿ç”¨æ•°å­—æˆ–å­—æ¯å½¢å¼ä¿®æ”¹æƒé™ã€‚

chownå‘½ä»¤ï¼šchange owner ä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…ï¼Œç”¨æˆ·ç»„

```sh

#ä¿®æ”¹oldboy.txtçš„æƒé™ä¸º755.
chmod 755 oldboy.txt 
#ä¿®æ”¹oldboy.txtæ‰€æœ‰è€…å’Œç”¨æˆ·ç»„ä¸ºoldboy(å­˜åœ¨)ã€‚
chown oldboy.oldboy oldboy.txt
```

## æ–‡ä»¶å’Œç›®å½•æƒé™å°ç»“ â­ï¸â­ï¸â­ï¸â­ï¸â­

| æƒé™ | æ–‡ä»¶                                           | ç›®å½•                                                         |
| ---- | ---------------------------------------------- | ------------------------------------------------------------ |
| r    | æ˜¯å¦å¯ä»¥è¯»å–æ–‡ä»¶å†…å®¹(r)                        | æ˜¯å¦å¯ä»¥æŸ¥çœ‹ç›®å½•å†…å®¹,éœ€è¦xæƒé™é…åˆ(rx)                       |
| w    | æ˜¯å¦å¯ä»¥ä¿®æ”¹æ–‡ä»¶å†…å®¹,ä¸€èˆ¬è¿˜éœ€è¦ræƒé™é…åˆ.(rw)  | æ˜¯å¦å¯ä»¥åœ¨ç›®å½•ä¸­åˆ›å»º,åˆ é™¤,é‡å‘½åæ–‡ä»¶æƒé™,éœ€è¦rxæƒé™é…åˆ(rwx) |
| x    | æ˜¯å¦å¯ä»¥æ‰§è¡Œæ–‡ä»¶,(å‘½ä»¤,è„šæœ¬),ä¸€èˆ¬è¿˜éœ€è¦ræƒé™é… | æ˜¯å¦å¯ä»¥è¿›å…¥ç›®å½•,æ˜¯å¦å¯ä»¥è®¿é—®ç›®å½•ä¸‹æ–‡ä»¶å±æ€§(rx,rwx)          |





# ç³»ç»Ÿç®¡ç†ä¹‹è½¯ä»¶åŒ…ç®¡ç†

- è½¯ä»¶å®‰è£…æ–¹å¼æ¨è

â€‹	:one:yum ä¼˜å…ˆ

â€‹	:two:rpmåŒ…

â€‹	:three:äºŒè¿›åˆ¶

â€‹	:four:ç¼–è¯‘å®‰è£…

## rpmå®‰è£…æ–¹å¼

| **rpm**å‘½ä»¤ | **é€‰é¡¹åŠå«ä¹‰**                                  |
| ----------- | ----------------------------------------------- |
| å¢åŠ -å®‰è£…   | -ivh (-i install ) xxxx.rpm                     |
| æŸ¥çœ‹-æ£€æŸ¥   | -qa (query all) æŸ¥çœ‹è½¯ä»¶åŒ…æ˜¯å¦å®‰è£…              |
|             | -ql æŸ¥çœ‹è½¯ä»¶åŒ…å†…å®¹                              |
|             | -qf æ–‡ä»¶æˆ–å‘½ä»¤ç»å¯¹è·¯å¾„ æ–‡ä»¶æˆ–å‘½ä»¤æ‰€å½’å±çš„è½¯ä»¶åŒ… |
| ä¿®æ”¹-å‡çº§   | -Uvh å‡çº§è½¯ä»¶åŒ…(å¦‚æœè½¯ä»¶åŒ…ä¸å­˜åœ¨,ç›¸å½“æ˜¯ivhå®‰è£…) |
| åˆ é™¤        | -e åˆ é™¤è½¯ä»¶åŒ…                                   |

## å¢åŠ -å®‰è£…rpmåŒ…â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸

> -ivh 
>
> -i install 
>
> -v æ˜¾ç¤ºè¿‡ç¨‹
>
> -h äººç±»å¯è¯»æ˜¾ç¤ºè¿‡ç¨‹

```sh
æ¡ˆä¾‹01 å®‰è£…rpmåŒ…
#ä¸‹è½½è½¯ä»¶åŒ…
wget Â  - no-check-certificate -P /server/tools/ 
https: / mirrors.tuna.tsinghua.edu.cn/zabbix/zabbix/6.0/rhel/7/x86_64/zabbix-agent2-6.0.0-1.el7.x86_64.rpm
wgetä¸‹è½½æŒ‡å®šå†…å®¹ï¼Œé»˜è®¤ä¸‹è½½åˆ°å½“å‰ç›®å½•
-P ä¸‹è½½åˆ°æŒ‡å®šç›®å½•ï¼Œç›®å½•ä¸å­˜åœ¨ä¼šåˆ›å»º
no-check-certificate ä¸‹è½½åœ°å€https,åŠ ä¸Šè¿™ä¸ªé€‰é¡¹ï¼Œä¸‹è½½å¤±è´¥ã€‚
#å®‰è£…ä¾èµ–ï¼ˆåé¢yuméƒ¨åˆ†å¯ä»¥è§£å†³è½¯ä»¶åŒ…ä¾èµ–å’ŒæŸ¥æ‰¾ä¾èµ–ï¼‰
yum install Â -y pcre2
#å®‰è£…è½¯ä»¶åŒ…zabbix-agent2 
rpm -ivh zabbix-agent2-6.0.0-1.el7.x86_64.rpm
```

## æŸ¥è¯¢â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸

```sh
#ä¹¦å†™æ–¹æ³• åˆ©ç”¨ç®¡é“+grepè¿›è¡Œè¿‡æ»¤ æ¨è
rpm -qa |grep zabbix 
#ä¸ä½¿ç”¨ç®¡é“ ç›´æ¥å†™è½¯ä»¶åŒ…çš„åå­—
rpm -qa zabbix-agent2

#æ£€æŸ¥è½¯ä»¶åŒ…çš„å†…å®¹(å·²ç»å®‰è£…)
rpm -ql Â #list 
rpm -ql è½¯ä»¶
rpm -ql zabbix-agent2
```

## å‡çº§ :star:

```sh

wget Â  -P /server/tools/ 
https: / mirrors.tuna.tsinghua.edu.cn/zabbix/zabbix/6.0/rhel/7/x86_64/zabbix-agent2-
6.0.7-1.el7.x86_64.rpm
[root@oldboy-lnb-king-v3 ~]# rpm -Uvh /server/tools/zabbix-agent2-6.0.7-
1.el7.x86_64.rpm
è­¦å‘Šï¼š/server/tools/zabbix-agent2-6.0.7-1.el7.x86_64.rpm: å¤´V4 RSA/SHA512 Signature, 
å¯†é’¥ ID a14fe591: NOKEY
å‡†å¤‡ä¸­ . Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â ################################# [100%]
æ­£åœ¨å‡çº§/å®‰è£… .
 Â  1:zabbix-agent2-6.0.7-1.el7 Â  Â  Â  Â ################################# [ 50%]
æ­£åœ¨æ¸…ç†/åˆ é™¤ .
 Â  2:zabbix-agent2-6.0.0-1.el7 Â  Â  Â  Â ################################# [100%]
[root@oldboy-lnb-king-v3 ~]# rpm -qa |grep zabbix 
zabbix-agent2-6.0.7-1.el7.x86_64
```



## åˆ é™¤

```sh
rpm -e è½¯ä»¶åŒ…
rpm -e zabbix-agent2
rpm -qa |grep zabbix
```

# yumè½¯ä»¶åŒ…ç®¡ç†

- yumæ˜¯çº¢å¸½ç³»åˆ—ç³»ç»Ÿä¸­é»˜è®¤çš„è½¯ä»¶åŒ…ç®¡ç†å™¨ã€‚æ›¿æˆ‘ä»¬ä¸‹è½½æŒ‡å®šçš„rpmåŒ…,æ›¿æˆ‘ä»¬å®‰è£…ï¼Œå®‰è£…è¿‡ç¨‹ä¸­æœ‰ä¾èµ–ï¼Œä¸‹è½½å®‰è£…ä¾èµ–
- æ¨èå®‰è£…,å‘½ä»¤å¢å¼ºè¡¥å…¨å·¥å…·

## yumå®‰è£…è½¯ä»¶å…¨æµç¨‹

â€‹	1ï¸âƒ£è¿è¡Œyum install -y treeå‘½ä»¤ã€‚

â€‹	2ï¸âƒ£è§£æä¸‹treeè½¯ä»¶åŒ…æ˜¯å¦æœ‰ä¾èµ–ã€‚

â€‹	3ï¸âƒ£yumæ ¹æ®æœ¬åœ°é…ç½®çš„yumæºçš„åœ°å€ï¼Œè¿›è¡Œè¯·æ±‚ï¼ˆç›¸å…³è½¯ä»¶åŒ…tree,ä¾èµ–è½¯ä»¶åŒ…ï¼‰ã€‚

â€‹	4ï¸âƒ£å¦‚æœyumæºå­˜åœ¨è½¯ä»¶ï¼Œåˆ™ä¼šé€šçŸ¥yumè¿›è¡Œä¸‹è½½ï¼ŒrpmåŒ…å°±è¢«ä¸‹è½½åˆ°yumç¼“å­˜ç›®å½•ä¸­ã€‚

â€‹	5ï¸âƒ£è½¯ä»¶åŒ…å’Œä¾èµ–ï¼ˆå¦‚æœæœ‰ï¼‰éƒ½ä¸‹è½½OKï¼Œåˆ™å¼€å§‹å®‰è£…ã€‚

â€‹	6ï¸âƒ£ å®‰è£…å®Œæˆåˆ é™¤åˆšåˆšä¸‹è½½çš„rpmåŒ…ï¼ˆé»˜è®¤ï¼‰ã€‚

## yumæºé…ç½®â­ï¸â­ï¸â­ï¸â­ï¸â­

- ### ä¸€é”®é…ç½®ä¸ºé˜¿é‡Œäº‘çš„yumæº

  - æŸ¥çœ‹ç³»ç»Ÿæ­£åœ¨ä½¿ç”¨çš„æºåˆ—è¡¨

    ```sh
    yum repolist	
    ```

    > ==æºæ ‡è¯†==              		==æºåç§°==                                                       ==çŠ¶æ€==
    > base/7/x86_64       CentOS-7 - Base - mirrors.aliyun.com              10,072
    > epel/x86_64         Extra Packages for Enterprise Linux 7 - x86_64    13,787
    > extras/7/x86_64     CentOS-7 - Extras - mirrors.aliyun.com               519
    > updates/7/x86_64    CentOS-7 - Updates - mirrors.aliyun.com            5,760
    > repolist: 30,138
    >
    > ç›®å‰è¿™é‡Œå¯ä»¥çœ‹å‡ºæœ‰base,extras,updates,epel4ä¸ªyumæº
    >
    > base,extras,updatesæ˜¯ç³»ç»Ÿé»˜è®¤çš„yumæº
    >
    > epelæ˜¯é¢å¤–yumæº

  - è®¾ç½®ç³»ç»Ÿçš„yumæºä¸ºé˜¿é‡Œäº‘

    > https: / mirrors.aliyun.com/è¿›å…¥ç½‘ç«™é€‰æ‹©centos 
    >
    > 1. å¤‡ä»½å·²æœ‰yumæºçš„é…ç½®æ–‡ä»¶
    >
    > mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup
    >
    > 2. é…ç½®ç³»ç»Ÿé»˜è®¤çš„æºï¼Œæ”¹ä¸ºé˜¿é‡Œäº‘çš„ã€‚
    >
    > ä½¿ç”¨wgetæˆ–curl ä¸‹è½½é˜¿é‡Œäº‘çš„yumæºçš„é…ç½®æ–‡ä»¶åˆ°/etc/yum.repos.d/ç›®å½•ä¸‹
    >
    > wget -O /etc/yum.repos.d/CentOS-Base.repo https: / mirrors.aliyun.com/repo/Centos-
    >
    > 7.repo-O ä¸‹è½½å¹¶æ”¹åï¼Œå­˜æ”¾åˆ°æŒ‡å®šç›®å½•ä¸­ã€‚
    >
    > 3. ä¿®æ”¹äº†base,extras,updatesæ˜¯ç³»ç»Ÿé»˜è®¤çš„yumæºï¼Œæ”¹ä¸ºäº†é˜¿é‡Œäº‘ã€‚

  - å¢åŠ epelæº

    > \#1. å¤‡ä»½ï¼ˆç¬¬1æ¬¡ä½¿ç”¨ï¼Œæç¤ºæ–‡ä»¶ä¸å­˜åœ¨ï¼‰
    >
    > mv /etc/yum.repos.d/epel.repo /etc/yum.repos.d/epel.repo.backup
    >
    > mv /etc/yum.repos.d/epel-testing.repo /etc/yum.repos.d/epel-testing.repo.backup
    >
    > \#2. å¢åŠ ç³»ç»Ÿçš„epelæºï¼ˆä¼ä¸šçº§Linuxçš„é¢å¤–çš„è½¯ä»¶åŒ… yumä»“åº“ï¼‰
    >
    > wget -O /etc/yum.repos.d/epel.repo https: / mirrors.aliyun.com/repo/epel-7.repo
    >
    > \#3. æ£€æŸ¥
    >
    > yum install -y sl cowsay 	

- ## yumæºé…ç½®æ–‡ä»¶è¯¦è§£

  - ### å­˜æ”¾åœ¨/etc/yum.repos.d/ç›®å½•ä¸‹é¢ï¼Œéƒ½æ˜¯ä»¥.repoç»“å°¾ï¼Œåªèƒ½è¯†åˆ«ä»¥.repoç»“å°¾çš„æ–‡ä»¶ã€‚

![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240224001855519.png)

- ### é…ç½®æ–‡ä»¶æ ¼å¼

  ```sh 	
  [base] è¿™ä¸ªæºçš„åå­—
  name=CentOS-$releasever - Base - mirrors.aliyun.com
  failovermethod=priority
  baseurl=http: / mirrors.aliyun.com/centos/$releasever/os/$basearch/
   Â  Â  Â  http: / mirrors.aliyuncs.com/centos/$releasever/os/$basearch/
   Â  Â  Â  http: / mirrors.cloud.aliyuncs.com/centos/$releasever/os/$basearch/
  gpgcheck=1
  gpgkey=http: / mirrors.aliyun.com/centos/
  ```

  | yumæºæ–‡ä»¶è¯¦è§£ |                                                       |
  | ------------- | ----------------------------------------------------- |
  | [base]        | yumæºçš„åå­—                                           |
  | name=         | è¯´æ˜ä¿¡æ¯                                              |
  | baseurl=      | yumæºåœ°å€,æ‰“å¼€åè¦çœ‹åˆ°repodataç›®å½•,è¿™æ˜¯yumé…ç½®çš„æ ¸å¿ƒ. |
  | enabled=1     | æ˜¯å¦å¼€å¯è¿™ä¸ªyumæº                                     |
  | gpgcheck=1    | å¼€å¯è½¯ä»¶åŒ…æ£€æŸ¥,æœªæ¥è‡ªå»ºyumä»“åº“å¯ä»¥å…³é—­.               |
  | gpgkey        | ç”¨äºæ£€æŸ¥çš„ç§˜é’¥. å¦‚æœå…³é—­æ£€æŸ¥gpgkeyçœç•¥.               |

- ### yumå‘½ä»¤é…ç½®æ–‡ä»¶

  - ä¿®æ”¹/etc/yum.confé…ç½®ï¼Œæ‰¾å‡ºkeepcacheè¡Œ=0æ”¹ä¸º=1å³å¯.

  | /etc/yum.cof yumå‘½ä»¤çš„é…ç½®æ–‡ä»¶ | è¯´æ˜                                                         |
  | ------------------------------ | ------------------------------------------------------------ |
  | keepcache                      | =0å…³é—­ç¼“å­˜ï¼Œè½¯ä»¶ä¸‹è½½å®‰è£…åè‡ªåŠ¨åˆ é™¤rpmåŒ…ã€‚=1å¼€å¯ç¼“å­˜ï¼Œè½¯ä»¶ä¸‹è½½å®‰è£…åä¿ç•™rpmåŒ…ã€‚ï¼ˆè‡ªå»ºyumæºï¼‰ |
  | cachedir                       | yumä¸‹è½½è½¯ä»¶åŒ…çš„ç¼“å­˜ç›®å½•ï¼Œ/var/cache/yum/$basearch/$releasever |
  | logfile                        | yumå‘½ä»¤çš„è®°å½• /var/log/yum.log                               |

- ### yumå‘½ä»¤è¯¦è§£â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸

â€‹	

| yumå‘½ä»¤ | æ ¼å¼ä¸è¯´æ˜                      |
| ------- | ------------------------------- |
| **å¢**  | **yum install -y tree**         |
| æŸ¥      | **yum provides** **å†…å®¹**       |
|         | yum search all å†…å®¹             |
|         | **yum repolist** **æŸ¥çœ‹æºåˆ—è¡¨** |
| åˆ é™¤    | yum remove åˆ é™¤è½¯ä»¶åŒ…åŠä¾èµ–     |
|         | yum clean all æ¸…ç©ºç¼“å­˜          |
| æ”¹      | yum update/upgrade              |
| é€‰é¡¹    | -y é‡åˆ°æœ‰yes/noçš„æ—¶å€™é€‰æ‹©yes    |

==é€šå¸¸æƒ…å†µä¸‹æ˜¯ç”¨yum å‘½ä»¤ä¸‹è½½ï¼Œrpm -qa æ£€æŸ¥å®‰è£…==

# ç³»ç»Ÿç®¡ç†ä½“ç³»ä¹‹è¿›ç¨‹ç®¡ç†

- ## è¿›ç¨‹

| åå­—       | å«ä¹‰                                                  |
| ---------- | ----------------------------------------------------- |
| ç¨‹åº       | å®‰è£…åŒ…ï¼Œç¨‹åºä»£ç ï¼Œapp                                 |
| è¿›ç¨‹:star: | è¿è¡Œèµ·æ¥çš„ç¨‹åºï¼Œå‘½ä»¤ï¼ŒæœåŠ¡ï¼ˆè¿œç¨‹è¿æ¥ï¼‰....,è¿è¡Œåœ¨å†…å­˜ |
| å®ˆæŠ¤è¿›ç¨‹   | å®ˆæŠ¤è¿›ç¨‹ï¼Œä¸€ç›´è¿è¡Œçš„è¿›ç¨‹ï¼Œä¹Ÿå¯å«åšæœåŠ¡                |

- ## åˆ†ç±»

  - ==åƒµå°¸è¿›ç¨‹==

    æŒ‡çš„æ˜¯å½“å­è¿›ç¨‹æ¯”çˆ¶è¿›ç¨‹å…ˆç»“æŸï¼Œè€Œçˆ¶è¿›ç¨‹åˆæ²¡æœ‰å›æ”¶å­è¿›ç¨‹ï¼Œé‡Šæ”¾å­è¿›ç¨‹å ç”¨çš„èµ„æºï¼Œæ­¤æ—¶å­è¿›ç¨‹å°†æˆä¸ºä¸€ä¸ªåƒµå°¸è¿›ç¨‹ã€‚

â€‹		æŸ¥æ‰¾:æœªæ¥é€šè¿‡ps aux è¿‡æ»¤ ZçŠ¶æ€å¯æ‰¾å‡ºåƒµå°¸è¿›ç¨‹æˆ–topå‘½ä»¤æŸ¥çœ‹

â€‹		è§£å†³:æ‰¾å‡ºåƒµå°¸è¿›ç¨‹ä¸Šçº§è¿›ç¨‹ç»“æŸå³å¯

â€‹		è‹¥ä¸Šçº§è¿›ç¨‹ä¸ºä¸»è¿›ç¨‹(pid=1),ä¸»è¿›ç¨‹é‡å¯Linux,å…¶ä»–è¿›ç¨‹ç»“æŸè¿™ä¸ªè¿›ç¨‹

â€‹	    ==å­¤å„¿è¿›ç¨‹==

â€‹		å­¤å„¿è¿›ç¨‹æŒ‡çš„æ˜¯åœ¨å…¶çˆ¶è¿›ç¨‹æ‰§è¡Œå®Œæˆæˆ–è¢«ç»ˆæ­¢åä»ç»§ç»­è¿è¡Œçš„ä¸€ç±»è¿›ç¨‹			

â€‹		å­¤å„¿è¿›ç¨‹ä¼šè¢«ç³»ç»Ÿç›´æ¥æ¥ç®¡.(systemdè¿›ç¨‹)

- ## è§£å†³è¿‡ç¨‹å±•ç¤º

  - topå‘½ä»¤æŸ¥çœ‹æ˜¯å¦æœ‰åƒµå°¸è¿›ç¨‹

  - è¿‡æ»¤å‡ºåƒµå°¸è¿›ç¨‹

    ```sh
    ps aux |grep Z #æ‰¾å‡ºåƒµå°¸è¿›ç¨‹çš„pid
    USER Â  Â  Â  PID %CPU %MEM Â  VSZ Â  RSS TTY Â  Â  STAT START Â  TIME COMMAND
    root Â  Â  Â  2188 Â 0.0 Â 0.0 Â  Â  Â 0 Â  Â  0 pts/0 Â  Z+ Â  10:04 Â  0:00 [zombine] <defunct>
    root Â  Â  Â  2191 Â 0.0 Â 0.0 112824 Â  960 pts/1 Â  R+ Â  10:05 Â  0:00 grep -color=auto Z
    å‘ç°åƒµå°¸è¿›ç¨‹çš„pidæ˜¯2188
    ```

  - pstree -pæŸ¥çœ‹åƒµå°¸è¿›ç¨‹çš„çˆ¶è¿›ç¨‹(ä¸Šçº§è¿›ç¨‹)

    ```sh
    pstree -p |grep 2188
     Â  Â  Â  Â  Â  â”œâ”€sshd(1344)â”€â”¬â”€sshd(1641)â”€â”€â”€bash(1643)â”€â”€â”€zombine(2187)â”€â”€â”€zombine(2188)
    ```

  - ç»“æŸåƒµå°¸è¿›ç¨‹çš„çˆ¶è¿›ç¨‹

    ```sh
    kill 2187
    ```

- ## è¿›ç¨‹ç›‘æ§å‘½ä»¤â­ï¸â­ï¸â­ï¸â­ï¸â­

  | ç›‘æ§å‘½ä»¤ | å«ä¹‰                                                         |
  | -------- | ------------------------------------------------------------ |
  | ps       | é™æ€ï¼špsæŸ¥çœ‹å½“å‰ç¬é—´è¿›ç¨‹çŠ¶æ€,ä¸€èˆ¬ç”¨äºä¸´æ—¶æ£€æŸ¥æˆ–å–å€¼.         |
  | top      | åŠ¨æ€ï¼štopåŠ¨æ€,äº¤äº’,æ•´ä½“æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€,è´Ÿè½½,åƒµå°¸è¿›ç¨‹,cpu,å†…å­˜. ç±»ä¼¼äºwindowsä»»åŠ¡ç®¡ç†å™¨. |

  - ## æ¦‚è¿°

    - ps -ef

    - ps -aux

      ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240225133913581.png)

- ## è¿›ç¨‹çŠ¶æ€

  - è¿›ç¨‹çŠ¶æ€:è¿›ç¨‹è¿è¡Œä¸­ï¼Œåƒµå°¸è¿›ç¨‹ï¼Œæ­£åœ¨è¿›è¡Œioçš„è¿›ç¨‹ï¼Œå‰å°æˆ–åå°è¿è¡Œè¿›ç¨‹ã€‚(åŸºæœ¬çŠ¶æ€+é™„åŠ ç»„æˆã€‚)

  | **STAT**åŸºæœ¬çŠ¶æ€ | **æè¿°**                         |
  | ---------------- | -------------------------------- |
  | S                | å¯ä¸­æ–­è¿›ç¨‹(å¯ä»¥éšæ—¶åœæ­¢)         |
  | **T(terminate)** | è¿›ç¨‹è¢«æš‚åœ(æŒ‚èµ·) ctrl +z         |
  | **D**            | ä¸å¯ä¸­æ–­è¿›ç¨‹(è¿›ç¨‹æ­£åœ¨è¿›è¡ŒIOè¯»å†™) |
  | **Z(zombie)**    | åƒµå°¸è¿›ç¨‹ï¼Œå¼‚å¸¸çš„è¿›ç¨‹             |
  | R(running)       | è¿è¡Œä¸­                           |

  | **STAT**çŠ¶æ€**+**ç¬¦å·(é™„åŠ çŠ¶æ€)äº†è§£ | **æè¿°**                                              |
  | ----------------------------------- | ----------------------------------------------------- |
  | **s**                               | è¿›ç¨‹æ˜¯**æ§åˆ¶è¿›ç¨‹**ï¼Œ Ssè¿›ç¨‹çš„é¢†å¯¼è€…ï¼Œ**çˆ¶è¿›ç¨‹**ä¸»è¿›ç¨‹ |
  | <                                   | è¿›ç¨‹è¿è¡Œåœ¨**é«˜ä¼˜å…ˆçº§**ä¸Šï¼ŒS<ä¼˜å…ˆçº§è¾ƒé«˜çš„è¿›ç¨‹          |
  | N                                   | è¿›ç¨‹è¿è¡Œåœ¨**ä½ä¼˜å…ˆçº§**ä¸Šï¼ŒSNä¼˜å…ˆçº§è¾ƒä½çš„è¿›ç¨‹          |
  | **+**                               | **å½“å‰è¿›ç¨‹è¿è¡Œåœ¨å‰å°**ï¼ŒR+è¯¥è¡¨ç¤ºè¿›ç¨‹åœ¨å‰å°è¿è¡Œ        |
  | **l(**å°å†™L)                        | è¿›ç¨‹æ˜¯å¤šçº¿ç¨‹çš„ï¼ŒSlè¡¨ç¤ºè¿›ç¨‹æ˜¯ä»¥çº¿ç¨‹æ–¹å¼è¿è¡Œ(ä¸ç¨‹åº)    |

- ## topå‘½ä»¤è¯¦è§£

  ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240225141205130.png)q

- ##    æ¡ˆä¾‹

  - ### è¿‡æ»¤å‡ºcrondè¿›ç¨‹ä¿¡æ¯ ğŸŒŸğŸŒŸğŸŒŸğŸŒŸ

    - ```sh
      ps -ef |grep crond
      ps -aux |grep crond
      ```

      > è¿‡æ»¤çš„ç»“æœå¯ä»¥é€šè¿‡grep -v grep æ’é™¤ä¸‹grepå‘½ä»¤è‡ªå·±(è¿›ç¨‹)
      >
      > ps -ef |grep crond |grep -v grep
      >
      > åé¢è¿˜å¯ä»¥ä¸wcé…åˆä½¿ç”¨ç»Ÿè®¡è¿›ç¨‹æ•°é‡ã€‚
      >
      > ps -ef |grep crond |grep -v grep |wc -l
      >
      > æ ¹æ®è¿‡æ»¤ç»“æœï¼Œéšæ—¶è°ƒæ•´è¿‡æ»¤çš„å‘½ä»¤æ¡ä»¶ã€‚
      >
      > ps -ef |grep '/usr/sbin/sshd'

    - ### æŒ‰ç…§æ ‘å½¢ç»“æ„æŸ¥çœ‹è¿›ç¨‹ä¿¡æ¯ğŸŒŸğŸŒŸğŸŒŸğŸŒŸ

      - ```sh
        pstree 
        pstree -p #æ˜¾ç¤ºæ ‘å½¢ç»“æ„å¹¶è¾“å‡ºpid.
        ps auxf #ä¹Ÿå¯ä»¥å±•ç¤ºéƒ¨åˆ†æ‰€å±å…³ç³»ï¼Œæ²¡æœ‰pstreeç›´è§‚
        ```

    - ### æ ¹æ®è¦æ±‚,åªæ˜¾ç¤ºæŸäº›å†…å®¹ğŸŒŸğŸŒŸğŸŒŸğŸŒŸ

      - ```sh
        #é€šè¿‡awkå–åˆ—
        ps aux | awk Â '{print $1}'
        ps aux | awk Â '{print $2}'
        ps aux | awk Â '{print $3}'
        ps aux | awk Â '{print $1,$3}' Â #ç¬¬1åˆ—å’Œç¬¬3åˆ—
        #pså‘½ä»¤çš„é€‰é¡¹,è¾“å‡ºæŒ‡å®šçš„å†…å®¹
        ps axo user,%cpu,stat
        ps axo user,%cpu,stat,cmd	
        ```

    - ### ä¸æ˜¾ç¤ºæ ‡é¢˜

      - ```sh
        #awkå†™æ³• æ’é™¤ç¬¬1è¡Œ,ä»ç¬¬2è¡Œå¼€å§‹
        ps aux |awk 'NR>1{print $1,$3}'
        awk '{print åˆ—}'
        awk 'æ¡ä»¶{print åˆ—}'
        awk 'NR > = 1{print åˆ—}'
        NR>1 è¡Œå·å¤§äº1
        NR>=2 è¡Œå·å¤§äºç­‰äº2 
        #psä¸è¾“å‡ºæ¯ä¸€åˆ—çš„æ ‡é¢˜.
        ps -no-heading axo user,%cpu,stat
        ```

    - ### å–å‡ºæŸä¸€ä¸ªæœåŠ¡(crond)çš„è¿›ç¨‹ä¿¡æ¯(pid,%cpu,%mem,command)

      - ```sh
        ps aux |grep Â 'crond' |awk '{print $2}'
        ps aux |grep Â 'crond' |awk '{print $2,$3,$4,$11}'
        å®Œå…¨ä½¿ç”¨pså‘½ä»¤è¿‡æ»¤å‡ºæ¥
        ps -no-heading Â -o pid,%cpu,%mem,command Â -C crond
        --no-hea	ding ä¸æ˜¾ç¤ºæ ‡é¢˜
        -C è¿‡æ»¤ æ³¨æ„ä¸è¦åŠ ä¸Šax.
        -oè¾“å‡ºæŒ‡å®šåˆ—
        
        #awkè¾“å‡ºæœ€ååˆ—
        [root@oldboy-king tools]# echo 1 a b lidao 996 |awk '{print $NF}'
        996
        ```

    - ### å–å‡ºæ‰€æœ‰è¿›ç¨‹ä¸­çš„å†…å­˜ä½¿ç”¨ç‡æœ€é«˜çš„å‰5

      - ```sh
        #ä½¿ç”¨sort+ps
        ps aux |sort -rnk4
        ps -no-heading aux |sort -rnk4 |head -5 
        #åªç”¨pså‘½ä»¤æ–¹æ³•
        ps aux Â  - sort=%mem |head -5
        é»˜è®¤æ˜¯å‡åºæ’åºï¼ŒæŒ‡æ ‡å‰é¢åŠ ä¸Š-å‡å·è¡¨ç¤ºé™åºæ’åºã€‚
        ```

    - ### topåŸºç¡€ä½¿ç”¨ä¸å¿«æ·é”®

      - ```sh
        #åŸºç¡€å¿…ä¼šç”¨æ³•
        q é€€å‡º
        é»˜è®¤3ç§’åˆ·æ–°1æ¬¡, ç©ºæ ¼ç«‹åˆ»åˆ·æ–°.
        P é»˜è®¤æŒ‰ç…§CPUä½¿ç”¨ç‡æ’åº
        M æŒ‰ç…§å†…å­˜ä½¿ç”¨ç‡æ’åº
        #è¿›é˜¶ç”¨æ³•: 
         topè¾“å…¥zè¿›å…¥é¢œè‰²æ¨¡å¼ æŒ‰ x æ ‡è®°å‡ºå½“å‰æ˜¯æŒ‰ç…§å“ªåˆ—æ’åº.
         shift + > å‘å³
         shift + < å‘å·¦
        #topå‘½ä»¤å‡çº§ç‰ˆï¼Œæ”¯æŒé¼ æ ‡æ“ä½œ
        htop
        ```

    - ### éäº¤äº’æ¨¡å¼

      - ```sh
        top |awk 'NR = 2'
        top Â -bn1 |awk 'NR = 2'
        -b éäº¤äº’æ¨¡å¼
        -n åªè¾“å‡ºnæ¬¡ç»“æœ.
        ```

- ## åå°ç®¡ç†

  - å‰å°(å‰å°è¿è¡Œ): éœ€è¦è¿æ¥åè¿›è¡Œè¿è¡Œæˆ–æ“ä½œ,è¿æ¥æ–­å¼€è¿™ä¸ªå‘½ä»¤,æ“ä½œå°±è‡ªåŠ¨ç»“æŸ.

  - åå°(åå°è¿è¡Œ): è®©è½¯ä»¶è¿›å…¥ç³»ç»Ÿçš„åå°,æŒç»­è¿è¡Œ,ä¸€èˆ¬æƒ…å†µä¸‹è¿æ¥æ–­å¼€äº†ä¹Ÿä¸ä¼šå½±å“è½¯ä»¶è¿è¡Œ

  - | è½¯ä»¶åå°è¿è¡Œæ–¹æ³•                           | è¯´æ˜                                          | åº”ç”¨åœºæ™¯                                         |
    | ------------------------------------------ | --------------------------------------------- | ------------------------------------------------ |
    | 1ï¸âƒ£ å‘½ä»¤ &                                   | å¸¸ç”¨çš„åå°è¿è¡Œæ–¹æ³•                            | å¤§éƒ¨åˆ†æ—¶å€™ä½¿ç”¨è¿™ä¸ªå³å¯                           |
    | 2ï¸âƒ£nohup å‘½ä»¤ &                              | ä¸ç¬¬1ä¸ªç±»ä¼¼,ä¼šè®°å½•è¾“å‡ºåˆ°æ–‡ä»¶ä¸­é»˜è®¤å«nohup.out | å¦‚æœæƒ³è®°å½•è¾“å‡ºå¯ä»¥ç”¨è¿™ä¸ªæ–¹æ³•                     |
    | 2ï¸âƒ£ å…ˆè¿è¡Œå‘½ä»¤,ç„¶åæŒ‰ä¸‹ctrl + z(åå°æŒ‚èµ·),bg | è½¯ä»¶è¿›å…¥åå°è¿è¡Œ                              | é¡½å›ºè½¯ä»¶ctrl +c æ— æ³•ç»“æŸ,å¯ä»¥é€šè¿‡è¿™ä¸ªæ–¹æ³•ç»“æŸå®ƒ. |
    | 3ï¸âƒ£ screenå‘½ä»¤                               | é€šè¿‡è½¯ä»¶åˆ›å»ºç©ºé—´,è®©å‘½ä»¤åœ¨è¿™ä¸ªç©ºé—´è¿è¡Œ         | ç¨³å®šæ€§æ¯”1ï¸âƒ£ :four:                                 |

- ## &æ–¹æ³•â­ï¸â­ï¸â­ï¸â­ï¸â­

  - ```sh
    æ¡ˆä¾‹01 è®©sleep 999å‘½ä»¤åå°è¿è¡Œ
    sleep 999 &
    [1] 1728
    [root@oldboy83-prod ~]# ps aux |grep 1728 Â 
    root Â  Â  Â  1728 Â 0.0 Â 0.0 108052 Â  356 pts/0 Â  S Â  Â 09:02 Â  0:00 sleep 999
    root Â  Â  Â  1730 Â 0.0 Â 0.0 112824 Â  976 pts/0 Â  R+ Â  09:02 Â  0:00 grep -color=auto 
    1728
    ```

  - > [1] 1728
    >
    > 1è¡¨ç¤º æ‰‹åŠ¨è¿›å…¥åˆ°åå°è¿è¡Œçš„ç¬¬1ä¸ªè¿›ç¨‹ã€‚
    >
    > 1728è¡¨ç¤ºè¿›ç¨‹pid
    >
    > jobså¯ä»¥æŸ¥çœ‹æ‰‹åŠ¨è¿›å…¥åå°çš„è¿›ç¨‹

- ## nohup å‘½ä»¤ &

  - ```sh
    æ¡ˆä¾‹02 è®©ping baidu.comå‘½ä»¤åå°è¿è¡Œå¹¶è®°å½•è¾“å‡º
    nohup ping -c20 baidu.com &
    tail -f nohup.out
    ping -c è¡¨ç¤ºæ¬¡æ•°pingå¤šå°‘æ¬¡
    ```

  - > æ¸©é¦¨æç¤º :å¦‚æœæƒ³è¾“å‡ºåˆ°å…¶ä»–æ–‡ä»¶
    >
    > nohup å‘½ä»¤ >æ–°çš„æ–‡ä»¶ &å³å¯
    >
    > nohup ping baidu.com >lidao-new.txt &

- ## ctrl +z

  - è¿™ä¸ªå¿«æ·é”®ä¸æ˜¯æ’¤é”€ï¼Œè¿™ä¸ªå¿«æ·é”®åœ¨Linuxä¸‹é¢è¡¨ç¤ºè®©å½“å‰è¿è¡Œçš„å‘½ä»¤æˆ–æœåŠ¡è¿›å…¥ åå°æŒ‚èµ· ï¼Œå¦‚æœè½¬ä¸ºåå°è¿è¡Œéœ€è¦åœ¨è¾“å…¥bg,å¦‚æœæ˜¯è¯¯è§¦ctrl+z,å¯ä»¥é€šè¿‡fgè®©è¿›ç¨‹ã€å‘½ä»¤å›åˆ°å‰å°ã€‚ä¸€èˆ¬è¾ƒå°‘ä½¿ç”¨ã€‚

- ## screen

  - ä¸€èˆ¬ä½¿ç”¨&ï¼Œnohubæ–¹æ³•è¿›å…¥åå°ï¼Œä¸€èˆ¬ä¸ç¨³å®šè¿™æ—¶å€™å¯ä»¥é€šè¿‡screenå‘½ä»¤è¾ƒä¸ºç¨³å®šçš„åå°è¿è¡Œä¸€äº›æŒ‡ä»¤ã€‚

    ç®€æ˜“åŸç†ï¼šåˆ›å»ºscreenç©ºé—´ï¼Œscreenå‘½ä»¤ç»´æŒï¼Œåœ¨é‡Œé¢è¿è¡Œçš„å‘½ä»¤åªè¦ç©ºé—´åœ¨ï¼Œé‡Œé¢çš„å‘½ä»¤å°±ä¸ä¼šæ–­ï¼ˆåå°è¿è¡Œï¼‰ã€‚ 

  - ```sh
    #1. å®‰è£…screen
    yum install -y screen 
    #2. è¿è¡Œscreen 
    screen
    è¿›å…¥screenè™šæ‹Ÿçª—å£
    #3. æ‰§è¡Œå‘½ä»¤
    è¾“å…¥å‘½ä»¤ ping baidu.com 
    #4. é€€å‡ºscreençª—å£
    é€€å‡ºçª—å£(å¼‚å¸¸æ¨è,æ­£å¸¸é€€å‡º)
    ctrl + a ç„¶å d
    #5. æŸ¥çœ‹screençª—å£
    æŸ¥çœ‹
    screen -ls
    #6. æ¢å¤
    screen -r 
    #å½»åº•ç»“æŸ
    ctrl + d
    ```

- ## æ€æ‰‹ä¸‰å‰‘å®¢

  - 3ä¸ªç”¨äºç»“æŸè¿›ç¨‹çš„å‘½ä»¤

    | å‘½ä»¤     | è¯´æ˜                                              |
    | -------- | ------------------------------------------------- |
    | **kill** | **kill +** **è¿›ç¨‹**pid **è¿›è¡Œç»“æŸè¿›ç¨‹**,**å¸¸ç”¨**. |
    | pkill    | pkill + è¿›ç¨‹åå­—, å–ä½ ç‹—å‘½(ä½ å’Œç‹—),æ¨¡ç³ŠæŸ¥æ‰¾.      |
    | killall  | killall + è¿›ç¨‹åå­—,ç²¾ç¡®                           |

  - kill ä¿¡å·

    - kill   pid é»˜è®¤å‘é€ç»“æŸä¿¡å·
    - kill -9 pid å‘é€å¼ºåˆ¶ç»“æŸä¿¡å·.åˆ«ç”¨kill -9 ç»“æŸæ•°æ®åº“

- ## è´Ÿè½½(è¡¡é‡ç³»ç»Ÿç¹å¿™ç¨‹åº¦æŒ‡æ ‡.)

  - ### æ¦‚è¿°

    - > è´Ÿè½½ load average å¹³å‡è´Ÿè½½: æœ€è¿‘1åˆ†é’Ÿ 5åˆ†é’Ÿ 15åˆ†é’Ÿç³»ç»Ÿå¹³å‡è´Ÿè½½.
      >
      > æ•°å€¼è¶Šæ¥è¿‘cpuæ ¸å¿ƒæ€»æ•°,ç³»ç»Ÿçš„è´Ÿè½½è¶Šé«˜ .
      >
      > å»ºè®®è´Ÿè½½è¾¾åˆ°cpuæ ¸å¿ƒæ€»æ•°çš„70-80%ã€‚

    - > ==è´Ÿè½½åŸç†==:
      >
      > é‚£åˆ°åº•å¦‚ä½•ç†è§£å¹³å‡è´Ÿè½½:**å¹³å‡è´Ÿè½½æ˜¯æŒ‡å•ä½æ—¶é—´å†…ï¼Œç³»ç»Ÿå¤„äºå¯è¿è¡ŒçŠ¶æ€****(R,S)**  **å’Œä¸å¯ä¸­æ–­çŠ¶æ€** **(D)**çš„å¹³å‡è¿›ç¨‹**
      >
      > **æ•°ï¼Œä¹Ÿå°±æ˜¯å¹³å‡æ´»è·ƒè¿›ç¨‹æ•°**
      >
      > è´Ÿè½½æ˜¯è¡¡é‡æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹çš„å¹³å‡æ•°(å¯ä»¥ä¸­æ–­è¿›ç¨‹å’Œä¸å¯ä¸­æ–­è¿›ç¨‹).
      >
      > ç³»ç»Ÿè´Ÿè½½æ˜¾ç¤ºå‡ºä»€ä¹ˆä¿¡æ¯:
      >
      > è´Ÿè½½ä¸»è¦è¡¡é‡çš„æ˜¯å¯è¿è¡ŒçŠ¶æ€(R,S å ç”¨CPU)å’Œä¸å¯ä¸­æ–­ (io)

  - ### è´Ÿè½½é«˜ï¼Ÿ	â­ï¸â­ï¸â­ï¸â­ï¸â­

    - æ’æŸ¥æµç¨‹
      - 1ï¸âƒ£é€šè¿‡ç›‘æ§è½¯ä»¶å‘ç°ç³»ç»Ÿè´Ÿè½½é«˜(w,lscpuæŸ¥çœ‹ï¼‰.
      - 2ï¸âƒ£åˆ¤æ–­æ˜¯cpuè¿˜æ˜¯ioå¯¼è‡´çš„è´Ÿè½½é«˜.
        - cpué«˜:topä¸­çš„ us(user ç”¨æˆ·å ç”¨cpu) sy(system ç³»ç»Ÿå ç”¨cpu)
        - ioé«˜: topä¸­çš„ wa(iowait) ç£ç›˜ioå¯¼è‡´çš„è´Ÿè½½é«˜
      - :three:
        - ğŸ…°å¦‚æœæ˜¯cpuå¯¼è‡´çš„,æ’æŸ¥å‡ºå“ªä¸ªè¿›ç¨‹å¯¼è‡´çš„ps auxè¿‡æ»¤å‡ºå ç”¨cpuè¾ƒé«˜çš„è¿›ç¨‹ã€‚
        - ğŸ…±å¦‚æœæ˜¯ioå¯¼è‡´çš„,æ’æŸ¥åˆçº§å“ªä¸ªè¿›ç¨‹å¯¼è‡´çš„ï¼Œé€šè¿‡iotop -oå‘½ä»¤æ’æŸ¥ã€‚
      - 4ï¸âƒ£æœªå®Œå¾…ç»­.(å…·ä½“åˆ†æè¿™ä¸ªè¿›ç¨‹æœ‰å•¥é—®é¢˜,ç¬¬2é˜¶æ®µå†è¯´)
    - å›¾è§£
    - ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240225190055785.png)



# ç³»ç»Ÿç®¡ç†ä½“ç³»ä¹‹æœåŠ¡ç®¡ç†

1. ### systemctlæœåŠ¡ç®¡ç†

   - å¼€æœºè‡ªå¯åŠ¨
   - ç®¡ç†æ­£åœ¨è¿è¡Œçš„æœåŠ¡

2. æ£€æŸ¥sshdè¿œç¨‹è¿æ¥æœåŠ¡çŠ¶æ€

   ```sh
   systemctl status sshd
   systemctl status å•ä¸ªæˆ–å¤šä¸ªæœåŠ¡å
   ```

3. å¦‚ä½•è®¾ç½®å¼€å¯

   ```sh
   å¼€æœºè‡ªå¯åŠ¨
   systemctl enable sshd
   å½“å‰è¿è¡Œ
   systemctl start sshd Â #æˆ–è€…ä½¿ç”¨restartè¡¨ç¤ºé‡å¯.
   ```

4. å…³é—­é˜²ç«å¢™firewall

   ```sh
   #å¼€æœºä¸ä¼šè‡ªåŠ¨å¯
   systemctl disable firewalld.service
   #å…³é—­æ­£åœ¨è¿è¡Œçš„æœåŠ¡
   systemctl stop firewalld.service
   #æœåŠ¡æ°¸ä¹…å…³é—­äº†
   systemctl status firewalld.service
   ```

5. æŒ‡ä»¤å°ç»“

   | systemctl          | å‘½ä»¤                        |
   | ------------------ | --------------------------- |
   | âœ…å¼€æœºè‡ªå¯åŠ¨        | systemctl enable sshd       |
   |                    | systemctl disable firewalld |
   | âœ…æœåŠ¡å¼€å¯å…³é—­é‡å¯  | systemctl start sshd        |
   |                    | systemctl stop sshd         |
   |                    | systemctl restart sshd      |
   | âœ…æŸ¥çœ‹æœåŠ¡çŠ¶æ€      | systemctl status æœåŠ¡åå­—   |
   | æœåŠ¡è¿è¡Œæƒ…å†µ       | systemctl list-units        |
   | æœåŠ¡å¼€æœºè‡ªå¯åŠ¨æƒ…å†µ | systemctl list-unit-files   |

   - æœåŠ¡æ— æ³•ä½¿ç”¨systemctlç®¡ç†å®ç°ï¼Œè¿™æ—¶å€™æ€ä¹ˆåŠï¼Ÿ

     è¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨/etc/rc.localæ–‡ä»¶ã€‚âš ï¸ç¬¬1æ¬¡ä½¿ç”¨éœ€è¦æˆäºˆæ‰§è¡Œæƒé™ 	chmod +x /etc/rc.d/rc.local

     ç„¶åæŠŠæœåŠ¡å¯åŠ¨å‘½ä»¤å†™å…¥åˆ°/etc/rc.local ä¸­å³å¯ã€‚

     åé¢æˆ‘ä»¬å¯ä»¥æ‰‹åŠ¨ä¹¦å†™systemctlé…ç½®æˆ–è„šæœ¬

   ## Linux è¿è¡Œçº§åˆ«

   - ### â­ï¸â­ï¸â­ï¸â­ï¸â­

     | è¿è¡Œçº§åˆ« | å«ä¹‰(c7)        | c6                               |
     | -------- | --------------- | -------------------------------- |
     | 0        | å…³æœº            | å…³æœº                             |
     | 1        | æ•‘æ´æ¨¡å¼ secure | å•ç”¨æˆ·æ¨¡å¼,æ‰¾å›rootå¯†ç           |
     | 2        | å¤šç”¨æˆ·æ¨¡å¼      | æ— ç½‘ç»œå¤šç”¨æˆ·æ¨¡å¼                 |
     | 3        | å¤šç”¨æˆ·æ¨¡å¼      | å‘½ä»¤è¡Œæ¨¡å¼,æ–‡æœ¬æ¨¡å¼,å·¥ä½œé»˜è®¤æ¨¡å¼ |
     | 4        | å¤šç”¨æˆ·æ¨¡å¼      | æœªä½¿ç”¨,å¾…å¼€å‘å¾…ä½¿ç”¨ã€‚            |
     | 5        | å›¾å½¢åŒ–ç•Œé¢æ¨¡å¼  | å›¾å½¢åŒ–ç•Œé¢æ¨¡å¼                   |
     | 6        | é‡å¯            | é‡å¯                             |

   - ### ä¿®æ”¹ä¸æŸ¥çœ‹

     - ```sh
       #æŸ¥çœ‹å½“å‰ç³»ç»Ÿè¿è¡Œçº§åˆ«
       systemctl get-default
       #ä¿®æ”¹è¿è¡Œçº§åˆ«ï¼ˆæœªæ¥ç”Ÿäº§ä¸­ä¸ä¿®æ”¹ï¼‰
       systemctl set-default graphical.target #multi-user.target
       ```

   - ### Linux å¯åŠ¨æµç¨‹â­ï¸â­ï¸â­ï¸â­ï¸â­

     - ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240226003125063.png)
     - ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240226003205832.png)

6. ## rootå¿˜è®°å¯†ç å¦‚ä½•è§£å†³

   1. é‡å¯Linux
   2. è¿›å…¥grubèœå•ï¼ˆå…ˆä¸è¦ç»§ç»­ï¼‰é€‰æ‹©ç¬¬1ä¸ªï¼ˆç›®å‰ä½¿ç”¨ä¸­çš„Linuxå†…æ ¸ï¼‰ï¼ŒæŒ‰ e ï¼Œç¼–è¾‘å†…æ ¸é…ç½®ã€‚
   3. æ‰¾åˆ°Linux16çš„è¡Œï¼Œä¿®æ”¹è¿™ä¸€è¡Œçš„å†…å®¹ ro æ”¹ä¸º rw ï¼ŒæŒ‰ END é”®åˆ°è¿™ä¸€è¡Œçš„æœ€åï¼Œè¾“å…¥ init=/bin/bash
   4. ä¿®æ”¹å®Œæˆï¼Œæ‰§è¡Œctrl+xå¯åŠ¨ç³»ç»Ÿï¼Œè¿›å…¥æ•‘æ´æ¨¡å¼ï¼ˆæ­¤æ—¶æ— æ³•è¿œç¨‹è¿æ¥ï¼‰ã€‚
   5. é€šè¿‡vi/vimç¼–è¾‘/etc/passwdæ–‡ä»¶ï¼Œå»æ‰rootçš„xæ ‡è®°ï¼ˆæ²¡æœ‰å¯†ç äº†ï¼‰ï¼Œé‡å¯Linux.
   6. æœ¬åœ°ç™»å½•Linuxè®¾ç½®ä¸ªå¯†ç å³å¯

 

# ç£ç›˜ç®¡ç†

![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240226131159134.png)

- ## æ¦‚è¿°

  - å†…å­˜: ä¸´æ—¶å­˜æ”¾,æ–­ç”µä¸¢å¤±
  - ç£ç›˜: æ°¸ä¹…ä¿å­˜

- ## åˆ†ç±»

  - | è¿è¡Œæ–¹å¼ä¸åŸç† | è¯¦ç»†ä¿¡æ¯                                                     |
    | -------------- | ------------------------------------------------------------ |
    | æœºæ¢°ç¡¬ç›˜(HDD)  | ç”µæœºå¸¦åŠ¨ç£ç›˜é«˜é€Ÿæ—‹è½¬,è¯»å–æ•°æ®.é€Ÿåº¦å¯ä»¥è¾¾åˆ°5400,7200 rpm(æ¯åˆ†é’Ÿå¤šå°‘è½¬ï¼‰ï¼ˆå®¶ç”¨ï¼‰ |
    | å›ºæ€ç¡¬ç›˜ï¼ˆSSD) | é›†æˆç”µè·¯ä¸èŠ¯ç‰‡,å­˜å‚¨èŠ¯ç‰‡.                                     |

- ## ç£ç›˜æ¥å£

  - ç£ç›˜æ¥å£:ç±»ä¼¼äºæ°´å£¶çš„å£¶å˜´,ç£ç›˜çš„è¯»å†™é€Ÿåº¦. ä¸åŒç±»å‹çš„ç£ç›˜æ¥å£æœ‰ä¸åŒçš„è¯»å†™é€Ÿåº¦.

  - | æ¥å£åˆ†ç±» | è¯´æ˜                                                      |
    | -------- | --------------------------------------------------------- |
    | **sata** | ä¸€èˆ¬å®¶ç”¨,ä¸€èˆ¬ç”¨äºæœºæ¢°ç¡¬ç›˜,ä¹Ÿæœ‰å›ºæ€ç¡¬ç›˜,å®¹é‡å¤§ï¼Œä»·æ ¼è¾ƒä½ . |
    | SAS      | ç»™ä¼ä¸šç¯å¢ƒä½¿ç”¨,ä¸€èˆ¬ç”¨äºæœºæ¢°ç¡¬ç›˜,ä¹Ÿæœ‰å›ºæ€ç¡¬ç›˜              |
    | PCI-E    | ä¼ä¸šçº§ä½¿ç”¨,å›ºæ€ç¡¬ç›˜ç”¨.                                    |
    | U.2      | ä¼ä¸šçº§å›ºæ€ç¡¬ç›˜ä½¿ç”¨ã€‚PCI-Eç±»ä¼¼ã€‚                           |

- ## **ä¼ä¸šçº§ç¯å¢ƒç£ç›˜é€‰å‹** â­ï¸â­ï¸â­ï¸â­ï¸â­

  - | ç£ç›˜é€‰å‹            | åº”ç”¨å»ºè®®                         |
    | ------------------- | -------------------------------- |
    | ä¸€èˆ¬æƒ…å†µä¸‹,æ•°æ®å¤‡ä»½ | SATAç¡¬ç›˜,10k rpm 4tb,8tbå­˜æ”¾å¤‡ä»½ |
    | ç½‘ç«™æœåŠ¡å™¨ä½¿ç”¨      | SASæ¥å£ 15k rpm 300G 600G 900G   |
    | é«˜å¹¶å‘ç½‘ç«™æœåŠ¡å™¨    | å¯ä»¥é€‰æ‹©å›ºæ€ç¡¬ç›˜PCI-E,SAS,SATA   |

    â€‹	æ­¤å»ºè®®åŸºäºç‰©ç†æœåŠ¡å™¨ï¼Œå¦‚æœæ˜¯å…¬æœ‰äº‘ï¼Œä¸€èˆ¬ä¸ç”¨è€ƒè™‘è¿‡å¤š

    > rpmæ˜¯ round per minute æ¯åˆ†é’Ÿå¤šå°‘è½¬çš„æ„æ€.

- ##  RAIDâ­ï¸â­ï¸â­ï¸â­ï¸â­ï¸

  - ### æ¦‚è¿°

    - åœ¨ä½¿ç”¨ç‰©ç†æœåŠ¡å™¨çš„æ—¶å€™,å¤šå—ç¡¬ç›˜,è¿™äº›ç¡¬ç›˜éœ€è¦é€šè¿‡raidå¡(è®¾å¤‡),ç»Ÿä¸€è¿›è¡Œç®¡ç†.
    - å¤§éƒ¨åˆ†éœ€è¦åšraidåæ‰èƒ½å®‰è£…ç³»ç»Ÿ,éƒ¨ç½²æœåŠ¡.
    - raid ç£ç›˜å†—ä½™é˜µåˆ—,ç®¡ç†ç£ç›˜æ–¹å¼.

  - ### ç‰¹ç‚¹

    > æ ¹æ®ç”¨æˆ·æ‰€è®¾ç½®çš„Raidçº§åˆ«å¯ä»¥è·å–å¦‚ä¸‹ä¸€ä¸ªæˆ–å¤šä¸ªç‰¹ç‚¹ï¼š
    >
    > å¯ä»¥è·å–æ›´é«˜çš„å®¹é‡.
    >
    > å¯ä»¥è·å–æ›´é«˜çš„æ€§èƒ½.
    >
    > å¯ä»¥è·å–æ›´é«˜çš„å†—ä½™(å®‰å…¨).

  - ## riadçº§åˆ«â­ï¸â­ï¸â­ï¸â­ï¸â­

    - ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240226162224966.png)

- ## ç£ç›˜åˆ†åŒº

  - MBR: æ¯ä¸€å—ç¡¬ç›˜ä¸Šå­˜æ”¾ç£ç›˜å¼•å¯¼ç¨‹åºï¼Œå¼•å¯¼ç¨‹åºåœ¨ç£ç›˜å¼€å¤´éƒ¨åˆ†ï¼Œç”¨äºå¼•å¯¼ç³»ç»Ÿå¯åŠ¨ã€‚æˆ‘ä»¬ä¸€èˆ¬ä¸ç”¨å¤ªå…³æ³¨ï¼Œæˆ‘ä»¬å®‰è£…ç³»ç»Ÿçš„æ—¶å€™è‡ªåŠ¨å®‰è£…ã€‚
  - ä½ç½®:ç£ç›˜åˆ†åŒºè¡¨ ç£ç›˜çš„å¼€å§‹éƒ¨åˆ†:0ç£å¤´,0ç£é“,1æ‰‡åŒº(512å­—èŠ‚)
  - è¿™512å­—èŠ‚å­˜æ”¾äº†
    - å¼•å¯¼ç¨‹åº446å­—èŠ‚(MBR)
    - ç£ç›˜åˆ†åŒºè¡¨(64å­—èŠ‚) 4ä¸ªåˆ†åŒºè¡¨
    - ç»“æŸæ ‡è®° 55AAï¼Œ2å­—èŠ‚
  - ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240226193254396.png)
  - åˆ†åŒºè¡¨64å­—èŠ‚,æ¯ä¸ªåˆ†åŒºå ç”¨16å­—èŠ‚,æœ€å¤šåªæœ‰4ä¸ªåˆ†åŒº
    - è¿™4ä¸ªåˆ†åŒºå«åšä¸»åˆ†åŒº
      - å¦‚æœåªåˆ’åˆ†1åˆ†åŒºä½¿ç”¨æ‰€æœ‰ç©ºé—´ï¼Œå°†æ— æ³•ç»§ç»­åˆ’åˆ†åˆ†åŒº
      - å¦‚æœåˆ’åˆ†äº†4ä¸ªåˆ†åŒºï¼Œä½†æ˜¯ç£ç›˜ç©ºé—´è¿˜æœ‰å‰©ä½™ï¼Œå‰©ä½™ç©ºé—´å°†æ— æ³•ç»§ç»­ä½¿ç”¨ã€‚
    - æ‰©å±•åˆ†åŒºæ˜¯ç”¨äºè§£å†³ä¸»åˆ†åŒºæ•°é‡ä¸»åˆ†åŒºåªèƒ½æœ‰4ä¸ªé—®é¢˜,æ‰©å±•åˆ†åŒºæ— æ³•ç›´æ¥ä½¿ç”¨,éœ€è¦åœ¨æ‰©å±•åˆ†åŒºä¸‹é¢åˆ›å»ºé€»è¾‘åˆ†åŒº,å­˜æ”¾æ•°æ®
    - é€»è¾‘åˆ†åŒºåœ¨æ‰©å±•åˆ†åŒºä¸­,ç”¨äºå­˜æ”¾æ•°æ®.
  - ä¸»åˆ†åŒº-æ‰©å±•åˆ†åŒº-é€»è¾‘åˆ†åŒºå…³ç³»
    - ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240226193437491.png)

- ## ç£ç›˜åŠåˆ†åŒºå‘½å

  - ç£ç›˜æ–‡ä»¶æˆ–åˆ†åŒºæ–‡ä»¶æ”¾åœ¨/dev/ä¸‹é¢

  - å‘½åæ–¹å¼å¦‚ä¸‹

    - ```sh
      #ç£ç›˜æ¥å£:
       Â  sas/sata/scsiæ¥å£çš„ç¡¬ç›˜ï¼Œç¡¬ç›˜åå­—æ˜¯ä»¥sdå¼€å¤´
       Â  è™šæ‹Ÿæœºï¼ˆkvm)/å…¬æœ‰äº‘: Â  Â  ç¡¬ç›˜åå­—æ˜¯ä»¥vdå¼€å¤´
      #ç¬¬å‡ å—ç¡¬ç›˜ï¼šé€šè¿‡å­—æ¯è¡¨ç¤ºä»å­—æ¯aå¼€å§‹ä¸€æ¬¡ç±»æ¨ã€‚
      /dev/sda
      #ç¬¬1å—ç¡¬ç›˜(SAS)æ¥å£
      /dev/sda
      ```

    - åˆ†åŒºå‘½å

      - > åˆ†åŒºå‘½åæ˜¯æ ¹æ®åˆ†åŒºç±»å‹è¿›è¡Œå‘½åçš„ã€‚
        >
        > å¦‚æœæ˜¯ä¸»åˆ†åŒºæˆ–è€…æ‰©å±•åˆ†åŒºåˆ™åˆ†åŒºå·ä»1-4èŒƒå›´ã€‚
        >
        > å¦‚æœæ˜¯é€»è¾‘åˆ†åŒºï¼Œé€»è¾‘åˆ†åŒºçš„åˆ†åŒºå·ä»5å¼€å§‹ã€‚

        ```sh
        æ¡ˆä¾‹01 ç¡¬ç›˜åŠåˆ†åŒºå‘½å
        ç¬¬2å—SATAç¡¬ç›˜çš„ç¬¬1ä¸ªä¸»åˆ†åŒº Â  /dev/sdb1 Â  Â  Â 
        ç¬¬3å—SASç¡¬ç›˜çš„ç¬¬2ä¸ªé€»è¾‘åˆ†åŒº Â  /dev/sdc6
        ç¬¬5å—å…¬æœ‰äº‘çš„äº‘ç›˜çš„ç¬¬3ä¸ªä¸»åˆ†åŒº /dev/vde3
        ```

  - ## å®æ“

    - ```sh
      [root@oldboy-king-v2 ~]# fdisk -l |grep '/dev/sd'
      ç£ç›˜ /dev/sdaï¼š21.5 GB, 21474836480 å­—èŠ‚ï¼Œ41943040 ä¸ªæ‰‡åŒº
      /dev/sda1 Â  * Â  Â  Â  Â 2048 2099199 1048576 83 Linux
      /dev/sda2 Â  Â  Â  Â  2099200 41943039 19921920 Â  8e Linux LVM
      ç£ç›˜ /dev/sdbï¼š106 MB, 106954752 å­—èŠ‚ï¼Œ208896 ä¸ªæ‰‡åŒº
      ç£ç›˜ /dev/sdcï¼š106 MB, 106954752 å­—èŠ‚ï¼Œ208896 ä¸ªæ‰‡åŒº
      ç£ç›˜ /dev/sddï¼š3221.2 GB, 3221225472000 å­—èŠ‚ï¼Œ6291456000 ä¸ªæ‰‡åŒº
      
      æ¡ˆä¾‹02 sdbç¡¬ç›˜åˆ›å»º20MBçš„åˆ†åŒº
      fdisk /dev/sdb
      #1 æ“ä½œç¡¬ç›˜
      fdisk /dev/sdb
      #2. å¯¹ç¡¬ç›˜åˆ†åŒºè¿›è¡Œå¢åˆ æ”¹æŸ¥
      p print è¾“å‡ºç£ç›˜åˆ†åŒºä¿¡æ¯
      n new Â  åˆ›å»ºåˆ†åŒº
      d delete åˆ é™¤åˆ†åŒº
      w write ä¿å­˜å¹¶é€€å‡º
      q quit é€€å‡ºä¸ä¿å­˜
      #3. åˆ›å»º20MBåˆ†åŒº
      å‘½ä»¤(è¾“å…¥ m è·å–å¸®åŠ©)ï¼šn Â #åˆ›å»ºåˆ†åŒº
      Partition type: Â  Â  Â  Â #æç¤ºé€‰æ‹© ç±»å‹
       Â  p Â  primary (0 primary, 0 extended, 4 free)
       Â  e Â  extended
      Select (default p): å›è½¦å³å¯ Â #è¾“å…¥pæˆ–å›è½¦é»˜è®¤ä½¿ç”¨ä¸»åˆ†åŒº
      Using default response p
      åˆ†åŒºå· (1-4ï¼Œé»˜è®¤ 1)ï¼šå›è½¦å³å¯ Â #åˆ†åŒºå·å›è½¦ä½¿ç”¨é»˜è®¤çš„1å·
      èµ·å§‹ æ‰‡åŒº (2048-208895ï¼Œé»˜è®¤ä¸º 2048)ï¼šå›è½¦å³å¯ #å›è½¦,ä½¿ç”¨é»˜è®¤çš„èµ·ç‚¹
      å°†ä½¿ç”¨é»˜è®¤å€¼ 2048
      Last æ‰‡åŒº, +æ‰‡åŒº or +size{K,M,G} (2048-208895ï¼Œé»˜è®¤ä¸º 208895)ï¼š+20M Â  Â  Â #+20Måˆ†åŒº20MB Â  Â 
      åˆ†åŒº 1 å·²è®¾ç½®ä¸º Linux ç±»å‹ï¼Œå¤§å°è®¾ä¸º 20 MiB
      #4. é€šè¿‡pæŸ¥çœ‹
      å‘½ä»¤(è¾“å…¥ m è·å–å¸®åŠ©)ï¼šp
      ç£ç›˜ /dev/sdbï¼š1073 MB, 1073741824 å­—èŠ‚ï¼Œ2097152 ä¸ªæ‰‡åŒº
      Units = æ‰‡åŒº of 1 * 512 = 512 bytes
      æ‰‡åŒºå¤§å°(é€»è¾‘/ç‰©ç†)ï¼š512 å­—èŠ‚ / 512 å­—èŠ‚
      I/O å¤§å°(æœ€å°/æœ€ä½³)ï¼š512 å­—èŠ‚ / 512 å­—èŠ‚
      
      ```

    - ### æ ¼å¼åŒ–ï¼ˆåˆ›å»ºæ–‡ä»¶ç³»ç»Ÿï¼‰â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸

      - åˆ›å»º make æ–‡ä»¶ç³»ç»Ÿ filesystem,è¡¨ç¤ºç»™ç£ç›˜åˆ†åŒºè¿›è¡Œè£…ä¿®ï¼Œç»™ç£ç›˜åˆ†åŒºåˆ›å»ºè§„åˆ™ï¼Œä¸€å®šé‡çš„inodeï¼Œblockã€‚

      - mkfsï¼ˆmake filesystem) åˆ›å»ºæ–‡ä»¶ç³»ç»Ÿ(æ ¼å¼åŒ–)

        ```sh
        mkfs ç£ç›˜æˆ–åˆ†åŒº
        mkfs.xfs /dev/sdb1
        xfsæ˜¯æ–‡ä»¶ç³»ç»Ÿç±»å‹ï¼ŒCentOS 7é»˜è®¤çš„æ–‡ä»¶ç³»ç»Ÿç±»å‹ã€‚
        mkfs.ext4 æ–‡ä»¶ç³»ç»Ÿç±»å‹ï¼Œç”¨äºCentOS 6.x æˆ–å…¬æœ‰äº‘ä½¿ç”¨ã€‚
        ```

    - ### æŒ‚è½½

      - Linuxä¸­çš„è®¾å¤‡ï¼Œéœ€è¦é€šè¿‡æŒ‚è½½å‘½ä»¤ï¼Œç»™è®¾å¤‡æŒ‡å®šå…¥å£ï¼ˆå·²ç»å­˜åœ¨çš„ç©ºç›®å½•ï¼‰,å¦åˆ™å°†æ— æ³•ä½¿ç”¨.
      - é€šè¿‡mountå‘½ä»¤æŒ‡å®š è®¾å¤‡ ï¼ŒæŒ‡å®š å…¥å£(ç›®å½•) mount è®¾å¤‡ ç›®å½•
      - å…¥å£: æŒ‚è½½ç‚¹,ä¸€èˆ¬æ˜¯ä¸ªç©ºç›®å½•å°±è¡Œ. /mnt linuxä¸´æ—¶æŒ‚è½½ç‚¹

    ```sh
    #ä¸´æ—¶æŒ‚è½½ï¼ˆé‡å¯Linuxç³»ç»ŸåæŒ‚è½½å¤±æ•ˆï¼‰
    mount /dev/sdb1 /mnt/
    [root@oldboy-lnb-king-v3 ~]# df -h
    æ–‡ä»¶ç³»ç»Ÿ Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  å®¹é‡ å·²ç”¨ å¯ç”¨ å·²ç”¨% æŒ‚è½½ç‚¹
    devtmpfs Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  979M Â  Â  0 979M Â  Â 0% /dev
    tmpfs Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  991M Â  Â  0 991M Â  Â 0% /dev/shm
    tmpfs Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  991M Â 9.6M 981M Â  Â 1% /run
    tmpfs Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  991M Â  Â  0 991M Â  Â 0% /sys/fs/cgroup
    /dev/mapper/centos_oldboy--king--v2-root Â  47G Â 2.6G Â  45G Â  Â 6% /
    /dev/sda1 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1014M 138M 877M Â  14% /boot
    tmpfs Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  199M Â  Â  0 199M Â  Â 0% /run/user/0
    /dev/sdb1 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  1020M Â  33M 988M Â  Â 4% /mnt
    [root@oldboy-lnb-king-v3 ~]# #ç»™/dev/sdb1 è®¾ç½®å…¥å£ï¼Œå…¥å£å«/mnt/
    [root@oldboy-lnb-king-v3 ~]# mount /dev/sdb1 /mnt/
    [root@oldboy-lnb-king-v3 ~]# df -h |grep mnt
    /dev/sdb1 Â  Â 
    ```

    - ### å¸è½½

      ```sh
      umount /mnt
      umount + æŒ‚è½½ç‚¹ï¼Œè¡¨ç¤ºå¸è½½ã€‚
      ```

  - ## æ°¸ä¹…æŒ‚è½½â­ï¸â­ï¸â­ï¸â­ï¸â­

    - æ–¹æ¡ˆ1ï¸âƒ£ä½¿ç”¨rc.local ,æŠŠæŒ‚è½½å‘½ä»¤ mount /dev/sdb1 /data/ å†™å…¥åˆ°/etc/rc.local,æ³¨æ„å‘½ä»¤æœ€å¥½å†™ä¸ºç»å¯¹è·¯

      > rc.local å¼€æœºé…ç½®æ–‡ä»¶

    - æ–¹æ¡ˆ2ï¸âƒ£ä¸“ä¸šçš„å¼€æœºè‡ªåŠ¨æŒ‚è½½çš„é…ç½®æ–‡ä»¶/etc/fstab ,æ ¹æ®é…ç½®æ–‡ä»¶çš„è¦æ±‚æŠŠmountå‘½ä»¤æ”¹ä¸ºé…ç½®æ–‡ä»¶å½¢å¼å³å¯ã€‚

    - ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240226202102036.png)
  
  - ## mbr vs gpt
  
    - | åˆ†åŒºè¡¨ | ç‰¹ç‚¹                                                         | å¯¹åº”å‘½ä»¤     |
      | ------ | ------------------------------------------------------------ | ------------ |
      | mbr    | æ”¯æŒ2tbä»¥å†…çš„ç¡¬ç›˜,å¤§äº2tbåˆ™åªè¯†åˆ«2tb. åŒºåˆ«ä¸»åˆ†åŒº,æ‰©å±•åˆ†åŒº,é€»è¾‘åˆ†åŒº | fdisk/parted |
      | gpt    | æ”¯æŒå¤§å®¹é‡ç¡¬ç›˜,ä¸»åˆ†åŒºæ— é™ä½¿ç”¨(100å¤šä¸ª).                      | gdisk/parted |
  
  - ## åˆ›å»ºswap
  
    - swapäº¤æ¢åˆ†åŒº:å†…å­˜ä¸è¶³çš„æ—¶å€™ä¸´æ—¶å……å½“å†…å­˜,swapå ç”¨çš„ç£ç›˜ç©ºé—´.
  
    - æ‰€ä»¥æœªæ¥åº”ç”¨å»ºè®®:å¦‚æœå†…å­˜å……è¶³å¹¶ä¸”æœåŠ¡å¯¹æ€§èƒ½è¦æ±‚è¾ƒé«˜,å¯ä»¥å…³é—­swap
  
    - ```sh
      #æ¡ˆä¾‹05 æœåŠ¡å™¨è¿è¡Œjavaç¨‹åº,å¤§é‡å ç”¨å†…å­˜,ä»¥è‡³äºå¼€å§‹å ç”¨swapå¦‚ä½•è§£å†³?
      - ä¸€æ­¥ä¿è¯ç½‘ç«™æ­£å¸¸,å¢åŠ swapç©ºé—´.
      - è”åˆå¼€å‘ä¸€èµ·æ’æŸ¥.
      å¢åŠ 1gçš„swap.
      1.åˆ›å»ºæŒ‡å®šå¤§å°çš„æ–‡ä»¶1gçš„æ–‡ä»¶.
      2.æŠŠæ–‡ä»¶è½¬æ¢ä¸ºswap.
      3.æ¿€æ´»è¿™ä¸ªswap,æŠŠå®ƒåŠ å…¥åˆ°linuxä¸­.
      4.è®°å¾—é…ç½®æ°¸ä¹…æŒ‚è½½.
      ```
  
    - ```sh
      #1.åˆ›å»ºæŒ‡å®šå¤§å°çš„æ–‡ä»¶1gçš„æ–‡ä»¶.
      dd if=/dev/zero of=/tmp/1g Â bs=1M count=1000
      if === input file æ•°æ®ä»å“ªé‡Œæ¥,è¾“å…¥æ–‡ä»¶,ä¸€èˆ¬ä½¿ç”¨/dev/zero,ä¸æ–­è¾“å‡ºç©ºå­—ç¬¦.
      of === ouput file åˆ›å»ºçš„æ–‡ä»¶,å­˜æ”¾æ•°æ®,è¾“å‡ºæ–‡ä»¶
      bs === block size æ¯æ¬¡è¯»å–å¤šå°‘,ä¸€èˆ¬1MBå¤§å°.
      count === è¯»å–æ¬¡æ•°
      2.æŠŠæ–‡ä»¶è½¬æ¢ä¸ºswap(æ ¼å¼åŒ–).
      mkswap /tmp/1g
      -----------------------
      root@oldboy-king-v2 ~]# file /tmp/1g 
      /tmp/1g: data Â  Â  Â  Â  Â  #åˆšåˆšåˆ›å»ºçš„æ–‡ä»¶dataæ™®é€šæ•°æ®æ–‡ä»¶
      [root@oldboy-king-v2 ~]# mkswap /tmp/1g 
      æ­£åœ¨è®¾ç½®äº¤æ¢ç©ºé—´ç‰ˆæœ¬ 1ï¼Œå¤§å° = 1023996 KiB
      æ— æ ‡ç­¾ï¼ŒUUID=0c072a5f-5ec2-4590-acd3-cae1e1926029
      [root@oldboy-king-v2 ~]# file /tmp/1g Â  Â  Â  #æˆä¸ºäº†swap æ–‡ä»¶
      /tmp/1g: Linux/i386 swap file (new style), version 1 (4K pages), size 255999 pages, no label, 
      UUID=0c072a5f-5ec2-4590-acd3-cae1e1926029
      --------------------------
      3.æ¿€æ´»è¿™ä¸ªswap,æŠŠå®ƒåŠ å…¥åˆ°linuxä¸­.
      [root@oldboy-king-v2 ~]# free -h
       Â  Â  Â  Â  Â  Â  total Â  Â  Â  used Â  Â  Â  free Â  Â  shared buff/cache Â  available
      Mem: Â  Â  Â  Â  Â  1.9G Â  Â  Â  201M Â  Â  Â  596M Â  Â  Â  Â 9.6M Â  Â  Â  Â 1.2G Â  Â  Â  Â 1.6G
      Swap: Â  Â  Â  Â  Â 2.0G Â  Â  Â  Â  0B Â  Â  Â  Â 2.0G
      chmod 600 /tmp/1g
      swapon /tmp/1g
      free -h
       Â  Â  Â  Â  Â  Â  total Â  Â  Â  used Â  Â  Â  free Â  Â  shared buff/cache Â  available
      Mem: Â  Â  Â  Â  Â  1.9G Â  Â  Â  202M Â  Â  Â  595M Â  Â  Â  Â 9.6M Â  Â  Â  Â 1.2G Â  Â  Â  Â 1.6G
      Swap: Â  Â  Â  Â  Â 3.0G Â  Â  Â  Â  0B Â  Â  Â  Â 3.0G
      4.è®°å¾—é…ç½®æ°¸ä¹…æŒ‚è½½.
      æ–¹æ³•01 : swapon /tmp/1gå†™å…¥åˆ°rc.local 
      æ–¹æ³•02: å†™å…¥/etc/fstab
      /tmp/1g Â  Â  Â  swap Â  Â  swap Â  defaults Â  Â  Â  Â 0 0
      ```
  
  - ## ç³»ç»Ÿç®¡ç†ç£ç›˜ç®¡ç†ä¹‹æ•…éšœæ¡ˆä¾‹
  
    - | æ•…éšœåˆ†ç±»         | ç°è±¡                                                  | æ’æŸ¥                                            |
      | ---------------- | ----------------------------------------------------- | ----------------------------------------------- |
      | block            | df -hç£ç›˜ç©ºé—´ä¸è¶³                                     | df -h,du -shä¸€å±‚ä¸€å±‚æ‰¾,ç›´åˆ°æ‰¾å‡ºå¯¹åº”çš„æ–‡ä»¶æˆ–ç›®å½• |
      | inode            | df -hç£ç›˜ç©ºé—´æœ‰å‰©ä½™,åˆ›å»ºæ–‡ä»¶,æ“ä½œæœåŠ¡æç¤ºç£ç›˜ç©ºé—´ä¸è¶³ | df -h,df -i,æ‰¾å‡ºç³»ç»Ÿä¸­çš„å¤§ç›®å½•                  |
      | block æ–‡ä»¶æœªå½»åº• | df -hæŸ¥çœ‹ç£ç›˜ç©ºé—´ä¸è¶³,du -sh æŸ¥çœ‹ç£ç›˜ç©ºé—´è¿˜æœ‰         | loof \|grep delete,æ‰¾å‡ºè¿›ç¨‹æˆ–æœåŠ¡               |
  
      

# ç‰¹æ®Šç¬¦å·

- ## å¼•å·ç³»åˆ—â­â­â­â­â­

- | å¼•å·     | å«ä¹‰                                                         |
  | -------- | ------------------------------------------------------------ |
  | å•å¼•å·   | æ‰€è§å³æ‰€å¾—,å•å¼•å·çš„å†…å®¹ä¼šåŸå°ä¸åŠ¨è¾“å‡º                        |
  | åŒå¼•å·   | å’Œå•å¼•å·ç±»ä¼¼,å¯¹åŒå¼•å·é‡Œé¢çš„ç‰¹æ®Šç¬¦å·ä¼šè¿›è¡Œè§£æ,å¯¹äº{ }èŠ±æ‹¬å·(é€šé…ç¬¦)æ²¡æœ‰è§£æ |
  | ä¸åŠ å¼•å· | å’ŒåŒå¼•å·ç±»ä¼¼,é¢å¤–æ”¯æŒé€šé…ç¬¦(åŒ¹é…æ–‡ä»¶)*.log {01..10}          |
  | åå¼•å·   | ä¼˜å…ˆæ‰§è¡Œ,å…ˆæ‰§è¡Œåå¼•å·é‡Œçš„å‘½ä»¤                                |

- ```sh
  #å•å¼•å·
  echo Â '`hostname` lidao996 Â  $(whoami) $UID {1..5} 
  '
  #åŒå¼•å·
  echo Â "`hostname` lidao996 Â  $(whoami) Â $UID {1..5} 
  "
  #ä¸åŠ å¼•å·
  echo Â `hostname` lidao996 Â  $(whoami) Â $UID {1..5}
  ```

- > hostname è¡¨ç¤ºæ‰§è¡Œhostnameå‘½ä»¤
  >
  > $(whoami) è¡¨ç¤ºæ‰§è¡Œwhoamiå‘½ä»¤
  >
  > $UID è¡¨ç¤ºå–å‡ºå½“å‰ç”¨æˆ·çš„uid
  >
  > {1..5} è¾“å‡º1 2 3 4 5

- ## é‡å®šå‘ç¬¦

- ### æ¦‚è¿°

  - æ”¹å˜è¾“å‡ºçš„æ–¹å‘

  ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240227193939972.png)

- ## é‡å®šå‘ç¬¦å·

  - | é‡å®šå‘ç¬¦å·             | å«ä¹‰                                                  | åº”ç”¨åœºæ™¯                                  |
    | ---------------------- | ----------------------------------------------------- | ----------------------------------------- |
    | > æˆ– 1>                | æ ‡å‡†è¾“å‡ºé‡å®šå‘: å…ˆæ¸…ç©ºæ–‡ä»¶,ç„¶åå†™å…¥.                  | å¤§éƒ¨åˆ†æƒ…å†µä¸‹å…ˆæ¸…ç©ºçš„æ—¶å€™å¯ä»¥ä½¿ç”¨ åˆ›å»ºæ–‡ä»¶ |
    | >> æˆ– 1>>              | æ ‡å‡†è¾“å‡ºè¿½åŠ é‡å®šå‘: ç›´æ¥å†™å…¥åˆ°æ–‡ä»¶æœ«å°¾                | ä¿®æ”¹æ–‡ä»¶é…ç½®è¡¨ç¤ºè¿½åŠ çš„æ—¶å€™                |
    | 2>                     | æ ‡å‡†**é”™è¯¯**è¾“å‡ºé‡å®šå‘: å…ˆæ¸…ç©ºæ–‡ä»¶,ç„¶åå†™å…¥é”™è¯¯ä¿¡æ¯   | è¾ƒå°‘å•ç‹¬ç”¨,ä¸€èˆ¬ç”¨äºè·å–æ‰€æœ‰è¾“å‡º.          |
    | 2>>                    | æ ‡å‡†**é”™è¯¯è¿½åŠ **è¾“å‡ºé‡å®šå‘: ç›´æ¥æŠŠé”™è¯¯å†™å…¥åˆ°æ–‡ä»¶æœ«å°¾. | è¾ƒå°‘å•ç‹¬ç”¨,ä¸€èˆ¬ç”¨äºè·å–æ‰€æœ‰è¾“å‡º.          |
    | å‘½ä»¤ >>oldboy.log 2>&1 | æ— è®ºå¯¹é”™éƒ½æŠŠç»“æœå†™å…¥åˆ°æ–‡ä»¶ä¸­.                         | æ¯”è¾ƒå¸¸ç”¨,å®šæ—¶ä»»åŠ¡,è„šæœ¬ä¸­å¸¸ç”¨              |
    | å‘½ä»¤ &>>oldboy.log     | æ— è®ºå¯¹é”™æŠŠç»“æœéƒ½å†™å…¥æ–‡ä»¶                              | åŒä¸Š                                      |
    | < æˆ–0<                 | æ ‡å‡†è¾“å…¥é‡å®šå‘                                        | å¾ˆå°‘ç”¨,æ­é…æŸå‡ ä¸ªå‘½ä»¤ç”¨xargs,tr           |
    | << æˆ– 0<<              | æ ‡å‡†è¾“å…¥è¿½åŠ é‡å®šå‘                                    | ä¸catæ­é…ä½¿ç”¨è¡¨ç¤ºå‘æ–‡ä»¶å†…å†™å…¥å¤šè¡Œå†…å®¹     |

- ```sh
  [root@oldboy-aliyun-servers ~ÕÊ  eco aaaa Â  
  ÕÒ´lidao.txt 
  -bash: eco: command not found
  [root@oldboy-aliyun-servers ~ÕÊ  cat lidao.txt 
  lidao
  lidao
  [root@oldboy-aliyun-servers ~ÕÊ  eco aaaa Â  
  2ÕÒ´lidao.txt 
  [root@oldboy-aliyun-servers ~ÕÊ  
  [root@oldboy-aliyun-servers ~ÕÊ  
  [root@oldboy-aliyun-servers ~ÕÊ  cat lidao.txt 
  lidao
  lidao
  -bash: eco: command not found
  
  #æœ€å®¹æ˜“ç†è§£çš„æ–¹æ³•
  echo Â  oldboy Â  ÕÒ´ oldboy.log Â  Â 2ÕÒ´oldboy.log
  #æ—¥å¸¸å¸¸ç”¨çš„æ–¹æ³•ä¹‹ä¸€
  echo Â  oldboy Â  >oldboy.log Â  Â  2>&1
  2>&1 è¡¨ç¤º æŠŠ2é”™è¯¯è¾“å‡ºå†™å…¥åˆ°æ ‡å‡†è¾“å‡ºä¸­(1) ï¼ˆé”™è¯¯è¾“å‡ºåˆå¹¶åˆ°æ ‡
  å‡†è¾“å‡ºä¸­ï¼Œéƒ½è¿½åŠ åˆ°oldboy.logä¸­ï¼‰
  #æœ€ç®€å†™æ³•
  echo Â  oldboy Â  &ÕÒ´oldboy.log
  
  xargs -n3 <num.txt 
  1 2 3
  4 5 6
  7 8 9
  10
  
  
  <<ç”¨äºä¸catå‘½ä»¤å®ç°å†™å…¥å¤šè¡Œå†…å®¹.
  æ ¼å¼:
  cat >æ–‡ä»¶<< ç»“æŸæ ‡è®°
  ç»“æŸæ ‡è®°
  ç»“æŸæ ‡è®°ä¸¤è¾¹ä¸è¦æœ‰å¤šä½™ç¬¦å·
  ä¸€èˆ¬éƒ½æ˜¯äº‹å…ˆå†™å¥½,ç„¶åç²˜è´´åˆ°å‘½ä»¤è¡Œæ‰§è¡Œ.
  cat >oldboy.txtÕÓ’EOF
  I 
  love 
  linux
  EOF
  EOF End of Fileæ–‡ä»¶ç»“æŸçš„ç¼©å†™.
  #å¦å¤–çš„ä¸€ç§catçš„æ ¼å¼
  cat <<EOF Â  >oldboy.txt 
  I 
  love 
  linux
  EOF
  EOF End Of Fileæ–‡ä»¶ç»“æŸ
  ```

- ## é€šé…ç¬¦

  - | ç¬¦å·     | å«ä¹‰                         |
    | -------- | ---------------------------- |
    | *æ˜Ÿå·    | æ‰€æœ‰ , *.txt *.log '*ip*'    |
    | {}èŠ±æ‹¬å· | è¾“å‡ºåºåˆ—,ä¸echo,touch,mkdir. |
    | []       | å‚è€ƒæ­£åˆ™ä¸­å«ä¹‰å³å¯           |
    | [!] [^]  | å–å                         |
    | ?        | ? ä»»æ„ä¸€ä¸ªå­—ç¬¦               |

    ```sh
    #åŸºæœ¬ç”¨æ³•
    echo {aÕÊ¡z}
    echo {1ÕÊ¡10}
    #è¾“å‡ºç­‰å®½çš„æ•°å­—åºåˆ— 01 02 03 10 Â  001 002 ÕÕÊ¢ 100
    echo {01ÕÊ¡10}
    echo {01ÕÊ¡100}
    #è¾“å‡ºæ— è§„å¾‹
    [root@oldboy-85-vip-king-v2 ~]# echo 
    {lidao,oldboy,zhangsan}
    lidao oldboy zhangsan
    [root@oldboy-85-vip-king-v2 ~]# echo oldboy-
    {lidao,oldboy,zhangsan}
    oldboy-lidao oldboy-oldboy oldboy-zhangsan
    # seq è¾“å‡º1 3 5 7 9 
    [root@oldboy-85-vip-king-v2 ~]# seq 1 3 10 
    1	
    4
    7
    10
    # ä½¿ç”¨{}å®ç°:äº†è§£
    [root@oldboy-85-vip-king-v2 ~]# echo {1..10..2}
    1 3 5 7 9
    [root@oldboy-85-vip-king-v2 ~]# echo {a..z..2}
    a c e g i k m o q s u w y
    #å°æŠ€å·§: å¤‡ä»½æŸä¸€ä¸ªæ–‡ä»¶
     [root@oldboy-85-vip-king-v2 ~]# cp 
    oldboy.txt{,.bak}
    [root@oldboy-85-vip-king-v2 ~]# ll oldboy.txt* 
    -rw-rÕÊ”rÕÊ”. 1 root root 23 12æœˆ 23 10:44 oldboy.txt
    -rw-rÕÊ”rÕÊ”. 1 root root 23 12æœˆ 23 11:26 
    oldboy.txt.bak
    [root@oldboy-85-vip-king-v2 ~]# echo 
    oldboy.txt{,.bak}
    oldboy.txt oldboy.txt.bak
    [root@oldboy-85-vip-king-v2 ~]# echo A{,B}
    A AB
    [root@oldboy-85-vip-king-v2 ~]# 
    [root@oldboy-85-vip-king-v2 ~]# echo A{C,B}
    AC AB
    
    æ‰¾å‡º/binç›®å½•ä¸‹é¢å‘½ä»¤,å‘½ä»¤ä»…æœ‰2ä¸ªå­—ç¬¦ç»„æˆ.
    ls -l /bin/??
    
    ```

  - # æ­£åˆ™è¡¨è¾¾å¼

    - ## æ¦‚è¿°

      - ç”¨äºç»™Linuxä¸‰å‰‘å®¢,ç¨‹åºè¯­è¨€ä½¿ç”¨çš„.
      - ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å¯¹ å­—ç¬¦è¿›è¡Œè¿‡æ»¤ . ä½¿ç”¨ä¸‰å‰‘å®¢å®ç°æ—¥å¿—çš„è¿‡æ»¤.
      - æ­£åˆ™è¡¨è¾¾å¼æœ¬è´¨æ˜¯ä¸€äº›ç¬¦å· ^ $  ^. * .* [] [^] | () + {} ? . 

  - ## æ­£åˆ™ä¸é€šé…ç¬¦åŒºåˆ«

    - | åŒºåˆ«   | ç”¨é€”                     | æ”¯æŒå‘½ä»¤ä¸åŒ          |
      | ------ | ------------------------ | --------------------- |
      | æ­£åˆ™   | åŒ¹é…æ–‡ä»¶å†…å®¹( åŒ¹é…å­—ç¬¦ ) | ä¸‰å‰‘å®¢æ”¯æŒ,å¼€å‘è¯­è¨€   |
      | é€šé…ç¬¦ | åŒ¹é…æ–‡ä»¶å               | linuxå¤§éƒ¨åˆ†å‘½ä»¤éƒ½æ”¯æŒ |

  - ## åˆ†ç±»

    - | åˆ†ç±»     | ç¬¦å·                 |
      | -------- | -------------------- |
      | åŸºç¡€æ­£åˆ™ | ^ $  $ . * .* [] [^] |
      | æ‰©å±•æ­£åˆ™ | \| \+ () {} ?        |

  - ## åŸºç¡€æ­£åˆ™

    - ### ^ä»¥....å¼€å¤´çš„è¡Œ

      - ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240228153918734.png)

    - ### $ä»¥...ç»“å°¾

      - ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240228154128227.png)

      - > cat -A æ˜¾ç¤ºå‡ºæ–‡ä»¶ä¸­çš„ç‰¹æ®Šéšè—ç¬¦å·.

    - ### ^$ ç©ºè¡Œ,è¿™è¡Œæ²¡æœ‰ä»»ä½•å­—ç¬¦

      - ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240228154408864.png)

      - ![æ’é™¤ç©ºè¡Œ](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240228154606744.png)

      - > æ’é™¤/etc/ssh/sshd_configæ–‡ä»¶ä¸­çš„ç©ºè¡Œ,ç„¶åæ’é™¤ä»¥#å·å¼€å¤´çš„è¡Œ(å¯ä»¥ä½¿ç”¨ç®¡é“)
        >
        > grep -v '^$' /etc/ssh/sshd_config |grep -v '^#'

    - ### . ä»»æ„ä¸€ä¸ªå­—ç¬¦,ä¸åŒ¹é…ç©ºè¡Œ

      - ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240228155046207.png)

      - > grep -oé€‰é¡¹,æ˜¾ç¤ºæ­£åˆ™åŒ¹é…åˆ°äº†ä»€ä¹ˆ? æ˜¾ç¤ºæ‰§è¡Œè¿‡ç¨‹.

        ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240228155134252.png)

    - ### \æ’¬æ£ è½¬ä¹‰å­—ç¬¦ è„±æ‰é©¬ç”²æ‰“å›åŸå½¢,å»æ‰ç‰¹æ®Šç¬¦å·çš„å«ä¹‰

      - ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240228155301321.png)

    - ### * å‰ä¸€ä¸ªå­—ç¬¦è¿ç»­å‡ºç°0æ¬¡æˆ–0æ¬¡ä»¥ä¸Š

      - ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240228160057311.png)

    - ### .* æ‰€æœ‰,ä»»ä½•å­—ç¬¦

      ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240228160733854.png)

    - > æ­£åˆ™è¡¨ç¤º**è¿ç»­å‡ºç°**çš„æ—¶å€™æˆ–è€…è¡¨ç¤º**æ‰€æœ‰**çš„æ—¶å€™,æ­£åˆ™ä½“ç°å‡ºè´ªå©ªæ€§,å°½å¯èƒ½å¤šçš„åŒ¹é….
      >
      > æœªæ¥æˆ‘ä»¬æ ¹æ®å®é™…çš„éœ€æ±‚ä½¿ç”¨è´ªå©ªæ€§å³å¯.

    - ### [ ] [abc]  è¡¨ç¤ºåŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦,aæˆ–bæˆ–c,ä¸­æ‹¬å·ç›¸å½“äºä¸€ä¸ªå­—ç¬¦

      - > () å°æ‹¬å·
        >
        > [] ä¸­æ‹¬å·
        >
        > {} å¤§æ‹¬å· èŠ±æ‹¬å·

        ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240228161549639.png)

        ![image-20240228161603873](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240228161603873.png)

        ```sh
        #åŒ¹é…æ•°å­—
        grep '[0-9]' re.txt
        #åŒ¹é…å°å†™å­—æ¯
        	[a-z]
        #åŒ¹é…å¤§å†™å­—æ¯
        	[A-Z]
        #åŒ¹é…å¤§å°å†™å­—æ¯
        	[a-zA-Z]
        	[a-Z] #å¦‚æœè¿™ä¸ªç”¨ä¸äº†ä½¿ç”¨ä¸Šé¢å®Œæˆå½¢å¼
        ```

      - ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240228161859583.png)

      - ```sh
        #åŒ¹é…å¤§å°å†™å­—æ¯+æ•°å­—
        grep '[a-zA-Z0-9]' re.txt 
        grep '[a-Z0-9]' re.txt 
        grep '[0-Z]' re.txt
        ```

    - ### [^] [ ^abc ] è¡¨ç¤ºåŒ¹é…ä»»æ„ä¸€ä¸ªå­—ç¬¦,æ’é™¤abc

      - ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240228162118088.png)

  - | åŸºç¡€æ­£åˆ™ | å«ä¹‰                       |
    | -------- | -------------------------- |
    | ^        | ä»¥xxxå¼€å¤´                  |
    | $        | ä»¥xxxç»“å°¾                  |
    | ^$       | ç©ºè¡Œ                       |
    | .        | ä»»æ„å­—ç¬¦                   |
    | \        | è½¬ä¹‰å­—ç¬¦,æ’¬æ£              |
    | *        | å‰ä¸€ä¸ªå­—ç¬¦å‡ºç°0æ¬¡æˆ–ä»¥ä¸Š    |
    | .*       | æ‰€æœ‰                       |
    | []       | [abc] aæˆ–è€…bæˆ–è€…c          |
    | [^]      | [^abc] åŒ¹é…é™¤abcä¹‹å¤–çš„å†…å®¹ |

- ## æ‰©å±•æ­£åˆ™

  - +å‰ä¸€ä¸ªå­—ç¬¦è¿ç»­å‡ºç°1æ¬¡æˆ–è€…ä¸€æ¬¡ä»¥ä¸Š
  
  - | æˆ–è€…
  
  - ()è¡¨ç¤ºæ•´ä½“,ç”¨äºåå‘å¼•ç”¨
    - ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240228173848979.png)
    
    - {} a{n,m} å‰ä¸€ä¸ªå­—ç¬¦è¿ç»­å‡ºç°è‡³å°‘næ¬¡æœ€å¤šmæ¬¡
      - ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240228173941502.png)
      - ? å‰ä¸€ä¸ªå­—ç¬¦ å‡ºç° 0æ¬¡æˆ–1æ¬¡
    
    - ## ä¸‰å‰‘å®¢ä¹‹sed
    
      - | é€‰é¡¹   | è¯´æ˜                                     |
        | ------ | ---------------------------------------- |
        | -n     | å–æ¶ˆé»˜è®¤è¾“å‡º                             |
        | -r     | sedæ”¯æŒæ‰©å±•æ­£åˆ™                          |
        | -i     | ä¿®æ”¹æ–‡ä»¶å†…å®¹,éœ€æ”¾åœ¨æœ€å                  |
        | -i.bak | å…ˆè¿›è¡Œå¤‡ä»½,ç„¶åä¿®æ”¹æ–‡ä»¶å†…å®¹,éœ€è¦æ”¾åœ¨æœ€å |
    
    - ## sedå¢åˆ æ”¹æŸ¥ :star:
    
      - ```sh
        #æ¡ˆä¾‹01: å–å‡ºæ–‡ä»¶çš„ç¬¬3è¡Œ
        sed -n '3p' /etc/passwd
        
        #æ¡ˆä¾‹02: å–å‡º/etc/passwdçš„ç¬¬2è¡Œåˆ°ç¬¬5è¡Œ
        sed -n '2,5p' /etc/passwd  ,æ”¹ä¸º;å°±æ˜¯åªæ˜¾ç¤º2è¡Œå’Œ5è¡Œ
        
        #æ¡ˆä¾‹03: è¿‡æ»¤å‡º/etc/passwdä¸­åŒ…å«rootçš„è¡Œ
        sed -n '/root/p' /etc/passwd
        
        # æŠŠsed.txtæ–‡ä»¶ä¸­lidaoæ›¿æ¢ä¸ºoldboy
        sed 's#lidao#oldboy#g' sed.txt
        ```
    
      - ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240312165622130.png)
    
    - ## ä¸‰å‰‘å®¢ä¹‹awk
    
      - ### awkæ¦‚è¿°
    
        - | å››å‰‘å®¢     | ç‰¹ç‚¹                                  | æ“…é•¿                    |
          | ---------- | ------------------------------------- | ----------------------- |
          | find       | æŸ¥æ‰¾æ–‡ä»¶                              | æŸ¥æ‰¾æ–‡ä»¶,ä¸å…¶ä»–å‘½ä»¤é…åˆ |
          | grep/egrep | è¿‡æ»¤                                  | è¿‡æ»¤é€Ÿåº¦æœ€å¿«            |
          | sed        | è¿‡æ»¤,å–è¡Œ,æ›¿æ¢,åˆ é™¤                   | æ›¿æ¢,ä¿®æ”¹æ–‡ä»¶å†…å®¹,å–è¡Œ  |
          | awk        | è¿‡æ»¤,å–è¡Œ,å–åˆ—,ç»Ÿè®¡è®¡ç®—,åˆ¤æ–­,å¾ªç¯ ... | å–åˆ—,å–è¡Œ,ç»Ÿè®¡è®¡ç®—      |
    
        - awkæ˜¯ä¸€ä¸ªè¯­è¨€,å«åšå•è¡Œè„šæœ¬
    
        - æ ¼å¼
    
          - ```sh
            å–å‡º/etc/passwdä¸­çš„ç¬¬1è¡Œçš„ç¬¬1åˆ—,ç¬¬3åˆ—å’Œæœ€åä¸€åˆ—
            awk Â  -F: Â  'NR==1{print $1,$3,$NF}' /etc/passwd
            awk Â  é€‰é¡¹ Â  'æ¡ä»¶{åŠ¨ä½œ}' Â  /etc/passwd
            æ¡ä»¶ æ‰¾è°
            åŠ¨ä½œ å¹²å•¥
            ```
    
        - ### æ‰§è¡Œæµç¨‹
    
          - ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240312191906918.png)
    
      - ### å–è¡Œ
    
        - ```sh 
          #æ¡ˆä¾‹01 : å–å‡º/etc/passwdçš„ç¬¬1è¡Œ
          awk Â 'NR==1{print $0}' /etc/passwd
          awk 'NR==1' passwd
          ```
    
        - > NR Number of Record è®°å½•å·,è¡Œå·.
          >
          > == è¡¨ç¤ºç­‰äº
          >
          > {print $0} è¾“å‡ºæ•´è¡Œå†…å®¹ \$0è¡¨ç¤ºå½“å‰è¡Œçš„å†…å®¹. awkæ»¡è¶³æ¡ä»¶åé»˜è®¤çš„åŠ¨ä½œ,è¾“å‡ºè¿™ä¸€è¡Œçš„å†…å®¹.
          >
          > ä¸Šé¢ä»…å–è¡Œ,è¿˜å¯ä»¥ç®€å†™ä¸º
          >
          > awk  'NR==1' /etc/passwd
    
        - ```sh
          #æ¡ˆä¾‹02: å–å‡ºç¬¬2è¡Œåˆ°ç¬¬5è¡Œçš„å†…å®¹
          awk 'NR>=2&&NR<=5' /etc/passwd
          ```
    
        - > \>= è¡¨ç¤ºå¤§äºç­‰äº
          >
          > && è¡¨ç¤ºå¹¶ä¸”
          >
          > || è¡¨ç¤ºæˆ–è€…
    
        - 
    
          ```sh
          #æ¡ˆä¾‹03: è¿‡æ»¤å‡º/etc/passwdæ–‡ä»¶ä¸­åŒ…å«rootæˆ–nobodyçš„è¡Œ
          awk '/root|nobody/' /etc/passwd
          
          #æ¡ˆä¾‹04 : ä»åŒ…å«rootçš„è¡Œåˆ°åŒ…å«nobodyçš„è¡Œ
          awk '/root/,/nobody/' /etc/passwd
          ```
    
      - ### å–åˆ—
    
        -  ```SH
           #æ¡ˆä¾‹05: ä½¿ç”¨awkå–å‡ºls -lh çš„å¤§å°åˆ—å’Œæœ€åä¸€åˆ—
            ls -lh /etc/hosts | awk '{print $5,$9}'
            ls -lh /etc/hosts | awk '{print $5,$NF}'
           ```
    
        - > awkä¸­å–åˆ—çš„æ—¶å€™è¯´æ˜:
          >
          > \$æ•°å­—,è¡¨ç¤ºå–åˆ—,$1 ç¬¬1åˆ— $0è¡¨ç¤ºè¿™ä¸€è¡Œ.
          >
          > $NF æœ€åä¸€åˆ—
          >
          > NF Number of Field æ¯è¡Œæœ‰å¤šå°‘åˆ—
          >
          > $(NF-1) å–å‡ºå€’æ•°ç¬¬2åˆ—,ä¸€èˆ¬ç”¨äºæ­£å‘å–å‘ç”Ÿå˜åŒ–æˆ–æ•°å­—è¿‡å¤§
          >
          >  
          >
          >  awkè¾“å‡ºå¯¹é½:
          >
          > ä½¿ç”¨columnå‘½ä»¤å³å¯æˆ–è€…ä½¿ç”¨\t
          >
          > ```sh
          > ll -h |awk '{print $5,$9}'|column -t
          > ll -h |awk '{print $5"\t"$9}'
          > ```
    
        - ```sh
          #æ¡ˆä¾‹06: å–å‡º/etc/passwdä¸­çš„ç¬¬1åˆ—,ç¬¬3åˆ—å’Œæœ€åä¸€åˆ—
          awk -F':' Â  '{print $1,$3,$NF}' /etc/passwd|column -t
          ```
    
        - > awkå–åˆ—çš„æ—¶å€™,é»˜è®¤æ˜¯é€šè¿‡ç©ºç™½å­—ç¬¦è¿›è¡Œåˆ†å‰²çš„.
          >
          > ç©ºç™½å­—ç¬¦:ç©ºæ ¼,è¿ç»­ç©ºæ ¼,tabé”®.
          >
          > ä½†æ˜¯ä¸€äº›æ—¶å€™ä½¿ç”¨é»˜è®¤åˆ†éš”ç¬¦ä¸å¤Ÿäº†,éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨æŒ‡å®šåˆ†éš”ç¬¦,é€šè¿‡-Fé€‰é¡¹æŒ‡å®š.
          >
          > æœªæ¥æˆ‘ä»¬æƒ³å¿«é€Ÿå–å‡ºæƒ³è¦çš„å†…å®¹,é€‰æ‹©è¶æ‰‹å·¥å…·(é€‰å¥½åˆ†éš”ç¬¦).
          >
          > é€‰æ‹©åˆ†éš”ç¬¦å»ºè®®: çœ‹ä½ ç›®æ ‡ä¸¤è¾¹æ˜¯å•¥.
    
        - ```sh
          #æ¡ˆä¾‹07: æŒ‡å®šå¤æ‚åˆ†éš”ç¬¦å–å‡ºip
          ip a s eth0 |awk 'NRÕÒ§3'|awk '{print $2}'|awk -F'/' '{print $1}'
          é‡åˆ°ç©ºæ ¼æˆ–/å°±åˆ‡ä¸€åˆ€,æ‰€ä»¥4ä¸ªç©ºæ ¼åˆ‡4åˆ€,ipæ˜¯ç¬¬6åˆ—
          ip a s eth0 | awk 'NR==3'|awk -F'[ /]' '{print $6}'
          å…¶ä»–åˆ†éš”ç¬¦å–å‡º
          ip a s eth0 |awk 'NR==3' |awk -F 'inet |/24'
          '{print $2}'
          ```
    
      - ### å–è¡Œä¸å–åˆ—
    
        - ```sh
          #æ¡ˆä¾‹08: å–è¡Œ+å–åˆ— å–ipåœ°å€
          awk Â  é€‰é¡¹ Â  'æ¡ä»¶{åŠ¨ä½œ}' Â  /etc/passwd
          ip a s eth0 | awk -F'[ /]+' Â 'NR==3{print $3}'
          10.0.0.200
          
          #æ¡ˆä¾‹09: å–å‡º/etc/passwdæ–‡ä»¶ä¸­ç¬¬3åˆ—å¤§äºå¤§äº100çš„è¡Œ,å–å‡ºè¿™è¡Œçš„ç¬¬1åˆ—,ç¬¬3åˆ—å’Œæœ€åä¸€åˆ—
          awk -F':' Â '$3>=100{print $1,$3,$NF}' /etc/passwd |column -t
          
          #æ¡ˆä¾‹10: å¦‚æœç³»ç»Ÿswapä½¿ç”¨è¶…è¿‡0åˆ™è¾“å‡º"å¼‚å¸¸ç³»ç»Ÿå¼€å§‹å ç”¨swap"
          free |awk '/Swap/ && $3 >=0 {print "å¼‚å¸¸ç³»ç»Ÿå¼€å§‹å ç”¨swap"}'
          
          #æ¡ˆä¾‹11: è¿‡æ»¤å‡º/etc/passwdç¬¬4åˆ—çš„æ•°å­—æ˜¯ä»¥0æˆ–1å¼€å¤´çš„è¡Œ,è¾“å‡ºç¬¬1åˆ—,ç¬¬3åˆ—,ç¬¬4åˆ—
          awk -F':' '$4 ~ /^[01]/ {print $1,$3}' /etc/passw
          ```
      
          > æ¸©é¦¨æç¤º awkä¸­ é€šè¿‡~å¯ä»¥å®ç°å¯¹æŸä¸€åˆ—è¿›è¡Œè¿‡æ»¤
          >
          > æŸä¸€åˆ—ä¸­å«æœ‰xxxxå†…å®¹
          >
          > ~ è¡¨ç¤ºåŒ…å«çš„æ„æ€ $1 ~ /root/ è¡¨ç¤ºç¬¬1åˆ—ä¸­åŒ…å«root
          >
          > !~ è¡¨ç¤ºä¸åŒ…å«
      
      - ### awkç»Ÿè®¡ä¸è®¡ç®—
      
        - ç»Ÿè®¡æ¬¡æ•°
      
          - ```sh
            awk Â '{i=i+1} END{print i}' /etc/passwd
            ```
      
            > END{}å†…å®¹ä¼šåœ¨awkè¯»å–å®Œæˆæ–‡ä»¶çš„æ—¶å€™æ‰§è¡Œ.
            >
            > END{}ä¸€èˆ¬ç”¨äºè¾“å‡ºæ‰§è¡Œç»“æœ.
            >
            > i=i+1 ===i++

#  ç¬¬ä¸€ä¸ªå¿…ä¼šæœåŠ¡-å®šæ—¶ä»»åŠ¡

- ## æœåŠ¡ä½¿ç”¨æµç¨‹

- | æœåŠ¡ä½¿ç”¨æµç¨‹`  | è¯´æ˜                                                         |
  | -------------- | ------------------------------------------------------------ |
  | éƒ¨ç½²           | å®‰è£…è¿™ä¸ªè½¯ä»¶æˆ–è€…æœåŠ¡                                         |
  | é…ç½®           | å¦‚ä½•ä½¿ç”¨è¿™ä¸ªæœåŠ¡é€šè¿‡é…ç½®æ–‡ä»¶,é€šè¿‡å‘½ä»¤. åˆçº§ä½¿ç”¨:èƒ½ç”¨å°±è¡Œ. æé«˜:é¢å¤–é…ç½®. |
  | ä¼˜åŒ–æˆ–æ³¨æ„äº‹é¡¹ | å®‰å…¨.......                                                  |
  | æ’éšœ           | éš¾ç‚¹ 1 é€šè¿‡é”™è¯¯æç¤ºè§£å†³é—®é¢˜,2 å­¦ä¼šçœ‹æ—¥å¿— ,è®©æœåŠ¡å‡ºé”™è¯¯æç¤ºæˆ–è€…è¾“å‡ºæ›´åŠ è¯¦ç»†çš„é”™è¯¯æç¤º(é€šè¿‡é‡å®šå‘) |
  | å…¶ä»–           | åšå¥½ç›‘æ§,åšå¥½å¤‡ä»½,åšå¥½æ—¥å¿—æ”¶é›†,ç»Ÿä¸€è®¤è¯                      |

  

- ## éƒ¨ç½²å®šæ—¶ä»»åŠ¡

  - å®šæ—¶ä»»åŠ¡è½¯ä»¶åŒ…åå­—:cronie , æœåŠ¡åå­—(è¿›ç¨‹)crond

  - ```sh
    rpm -qa cronie
    rpm -ql cronie
    ```

  - **crontab**  å®šæ—¶ä»»åŠ¡ç®¡ç†çš„å‘½ä»¤

    - -e ç¼–è¾‘å½“å‰ç”¨æˆ·çš„å®šæ—¶ä»»åŠ¡
    - -l æŸ¥çœ‹å½“å‰ç”¨æˆ·çš„å®šæ—¶ä»»åŠ¡

  - å®šæ—¶ä»»åŠ¡ä¹¦å†™æ ¼å¼-æ—¶é—´

    - ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240313201523259.png)

    - > æ¯å¤©æ—©ä¸Š8:30åˆ† å»å­¦æ ¡(go to school)
      >
      > \#1.test01
      >
      > 30 08 * * * go to school
      >
      > æ™šä¸Š12ç‚¹ä¸ŠåºŠç¡è§‰(go to bed/sleep) dbj 
      >
      > \#2.test02
      >
      > \*  00 * * * go to bed #æ¯å¤©çš„åŠå¤œ12ç‚¹00-59 æ¯åˆ†é’Ÿè¿è¡Œ.
      >
      > 00 00 * * * go to bed #æ¯å¤©è¿è¡Œ
      >
      > é—®é¢˜:
      >
      > **è¡¨ç¤ºæ•´ç‚¹çš„æ—¶å€™,æœªè¯´æ˜åˆ†é’Ÿçš„æ—¶å€™,æˆ‘ä»¬è¦æŒ‡å®šçš„åˆ†é’Ÿ,ä¸€èˆ¬æ˜¯00.**
      >
      > **å…³äºåˆ†é’Ÿä½ç½®ä¸Šæ˜¯å¦å†™*è¯´æ˜**
      >
      > **æ¶‰åŠåˆ°å°æ—¶,å¤©,å‘¨å‡ çš„æ—¶å€™,åˆ†é’Ÿä½ç½®ä¸Šè®°å¾—å†™ä¸ªæ•°(00)**

    - ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240313201806504.png)

    - > æ¯å¤©çš„ä¸Šåˆ7ç‚¹åˆ°æ™šä¸Š11ç‚¹ æ¯äºŒä¸ªå°æ—¶è¿è¡ŒCMDå‘½ä»¤
      >
      > 00 07-23/2 * * * CMD
      >
      > 07 09 11 13 15 17 19 21 23
      >
      > å®šæ—¶ä»»åŠ¡æ¯å¤©23ç‚¹åˆ°ç¬¬2å¤©çš„7ç‚¹è¿è¡Œ.
      >
      > 00 23,00-07 * * *

    - **å®šæ—¶ä»»åŠ¡æ¡ˆä¾‹**

      - ```sh
        #1. åŒæ­¥æ—¶é—´ by lidao996 at 20221111
        */2 * * * * /sbin/ntpdate ntp1.aliyun.com 
        >/dev/null Â 2>&1
        
        #2. å®šæ—¶å¤‡ä»½ /etc/ ç›®å½• by lidao996 at xxxx 
        mkdir -p /backup/
        tar zcf /backup/etc-`date +%F_%w`.tar.gz /etc/
        ä¸“ç”¨è„šæœ¬ç›®å½•:
        mkdir -p /server/scripts/
        #ä¹¦å†™è„šæœ¬
        cat backup-etc.sh
        tar zcf /backup/etc-`date +%F_%w`.tar.gz /etc/
        
        sh backup-etc.sh
        
        * * * * * /bin/sh /server/scripts/backup-etc.sh 
        >/dev/null Â 2>&1
        ```

      - **è„šæœ¬ä¸å˜é‡**

        - > \#èµ‹å€¼ ä¿®æ”¹å˜é‡å†…å®¹(åˆ›å»º)
          >
          > kui="æ¬²ç»ƒæ­¤åŠŸå¿…å…ˆè‡ªå®«,å¦‚ä¸è‡ªå®«ä¹Ÿèƒ½æˆåŠŸ"
          >
          > \#å–å€¼
          >
          > echo $kui
          >
          > æ¬²ç»ƒæ­¤åŠŸå¿…å…ˆè‡ªå®«,å¦‚ä¸è‡ªå®«ä¹Ÿèƒ½æˆåŠŸ

      - **å®šæ—¶ä»»åŠ¡æ³¨æ„äº‹é¡¹**

        - 1å¢åŠ æ³¨é‡Š

        - 2å°½é‡ä½¿ç”¨è„šæœ¬

          - > è°ƒè¯•è„šæœ¬çš„æ–¹æ³•:
            >
            > **sh -x æˆ–bash -x ,æ˜¾ç¤ºè„šæœ¬æ‰§è¡Œè¿‡ç¨‹.**
            >
            > **æœ‰+å¼€å¤´çš„è¡¨ç¤ºè„šæœ¬èƒŒåæ‰§è¡Œçš„è¿‡ç¨‹.**
            >
            > **å¦‚æœå¼€å¤´æ²¡æœ‰+,è¡¨ç¤ºè¾“å‡º.**

      - **å®šæ—¶ä»»åŠ¡çš„æ–‡ä»¶**,**è„šæœ¬ä½¿ç”¨ç»å¯¹è·¯å¾„**

      - > åœ¨å®šæ—¶ä»»åŠ¡è¿è¡Œå‘½ä»¤æˆ–è„šæœ¬çš„æ—¶å€™,åªèƒ½è¯†åˆ«åˆ°/binæˆ–/usr/binç›®å½•ä¸‹é¢çš„å‘½ä»¤.
        >
        > åªè¦ä¸åœ¨è¿™äº›ç›®å½•ä¸‹é¢çš„å‘½ä»¤,å°±è¦ä½¿ç”¨ç»å¯¹è·¯å¾„æˆ–è€…é‡æ–°å®šä¹‰ä¸‹PATHç¯å¢ƒå˜é‡.

        - å¯ä»¥é€šè¿‡2ç§æ–¹æ³•è§£å†³

        - > **1**  åœ¨è„šæœ¬æ–‡ä»¶çš„å¼€å¤´å£°æ˜PATHç¯å¢ƒå˜é‡
          >
          > ```sh
          > export PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin
          > ```
          >
          > **2**  è„šæœ¬å¼€å¤´é‡æ–°åŠ è½½PATHå˜é‡
          >
          > ```SH
          > source /etc/profile
          > ```

        - **å®šæ—¶ä»»åŠ¡ä¸­æ‰§è¡Œçš„å‘½ä»¤æˆ–è„šæœ¬å®šå‘åˆ°ç©ºæˆ–è¿½åŠ åˆ°æ–‡ä»¶**

          - > \#å®šå‘åˆ°ç©º
            >
            > \#1. åŒæ­¥æ—¶é—´ by lidao996 at 20221111
            >
            > */2 * * * * /sbin/ntpdate ntp1.aliyun.com \>/dev/null  2>&1
            >
            > \#è¿½åŠ åˆ°æ–‡ä»¶åŒç†

      - ### å®šæ—¶ä»»åŠ¡ç›´æ¥ä¹¦å†™%æœ‰ç‰¹æ®Šå«ä¹‰ (ä½¿ç”¨è„šæœ¬åˆ™æ²¡æœ‰,ä¹Ÿå¯ç”¨ \ )

    - ## æ¡ˆä¾‹

      - ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240314000842417.png)

    - ### å®šæ—¶ç³»ç»Ÿå·¡æ£€(å®šæ—¶è¾“å‡ºç³»ç»ŸåŸºæœ¬ä¿¡æ¯)å†™å…¥åˆ°/tmp/sys.logä¸­

    - ### å‘é€é‚®ä»¶
    
      - > ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240314145616191.png)
        >
        > ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240314145637749.png)
        >
        > ![](C:\Users\lingpfeng\AppData\Roaming\Typora\typora-user-images\image-20240314145710856.png)
    

# ä¸€äº›å‘½ä»¤æ€»ç»“

- ## æŸ¥çœ‹ç«¯å£

  åœ¨Linuxå’Œç±»Unixç³»ç»Ÿä¸­ï¼ŒæŸ¥çœ‹ç«¯å£çš„çŠ¶æ€å’Œç›‘å¬æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨å¤šç§å‘½ä»¤ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„å‘½ä»¤ï¼š

  1. **netstat**ï¼š
     `netstat` æ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„ç½‘ç»œå·¥å…·ï¼Œå¯ä»¥æ˜¾ç¤ºç½‘ç»œè¿æ¥ã€è·¯ç”±è¡¨ã€æ¥å£ç»Ÿè®¡ç­‰ä¿¡æ¯ã€‚è¦æŸ¥çœ‹æ‰€æœ‰ç«¯å£çš„çŠ¶æ€ï¼Œå¯ä»¥ä½¿ç”¨ï¼š
     
     ```bash
     netstat -tuln 
     ```
     - `-t` è¡¨ç¤º TCP
     - `-u` è¡¨ç¤º UDP
     - `-l` è¡¨ç¤ºä»…æ˜¾ç¤ºç›‘å¬çŠ¶æ€çš„ç«¯å£
     - `-n` è¡¨ç¤ºæ˜¾ç¤ºæ•°å­—å½¢å¼çš„åœ°å€å’Œç«¯å£å·
     
  2. **ss**ï¼š
     `ss` æ˜¯å¦ä¸€ä¸ªå®ç”¨çš„ç½‘ç»œå·¥å…·ï¼Œç”¨äºæŸ¥çœ‹å¥—æ¥å­—ç»Ÿè®¡ã€‚å®ƒå¯ä»¥è¢«è§†ä¸º `netstat` çš„ç°ä»£æ›¿ä»£å“ã€‚è¦æŸ¥çœ‹ç«¯å£ï¼Œå¯ä»¥ä½¿ç”¨ï¼š
     
     ```bash
     ss -tuln
     ss -ant
     ```
     - ss -ant` å‘½ä»¤çš„å‚æ•°ç»„åˆç”¨äºæ˜¾ç¤ºæ‰€æœ‰ï¼ˆ`-a`ï¼‰TCPï¼ˆ`-t`ï¼‰å’ŒUDPï¼ˆ`-u`ï¼‰çš„ç›‘å¬å¥—æ¥å­—ï¼ˆ`-n`ï¼‰ï¼Œè€Œä¸è§£ææœåŠ¡åç§°ï¼ˆ`-a`ï¼‰ï¼Œè¿™æ ·å¯ä»¥æ›´å¿«åœ°æ˜¾ç¤ºç»“æœã€‚
     
       å…·ä½“æ¥è¯´ï¼Œ`ss -ant` å‘½ä»¤çš„å‚æ•°è§£é‡Šå¦‚ä¸‹ï¼š
     
       - `ss`: æ˜¯ "socket statistics" çš„ç¼©å†™ï¼Œå³å¥—æ¥å­—ç»Ÿè®¡ã€‚
       - `-a`: æ˜¾ç¤ºæ‰€æœ‰å¥—æ¥å­—ï¼ŒåŒ…æ‹¬ç›‘å¬å’Œéç›‘å¬çš„ã€‚
       - `-n`: ä¸è§£ææœåŠ¡åç§°ï¼ˆä¾‹å¦‚ï¼Œä¸å°†ç«¯å£å·è½¬æ¢ä¸ºæœåŠ¡åç§°ï¼Œå¦‚ HTTP æˆ– SSHï¼‰ã€‚
       - `-t`: æ˜¾ç¤ºTCPå¥—æ¥å­—ã€‚
       - `-u`: æ˜¾ç¤ºUDPå¥—æ¥å­—ã€‚
     
       åœ¨è¿™ä¸ªè¾“å‡ºä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°æ¯ä¸ªç›‘å¬å¥—æ¥å­—çš„çŠ¶æ€ï¼ˆLISTENï¼‰ï¼Œæ¥æ”¶é˜Ÿåˆ—å’Œå‘é€é˜Ÿåˆ—çš„å¤§å°ï¼ˆRecv-Q å’Œ Send-Qï¼‰ï¼Œæœ¬åœ°å’Œå¤–éƒ¨çš„åœ°å€å’Œç«¯å£ï¼Œä»¥åŠå…³è”çš„è¿›ç¨‹ä¿¡æ¯ï¼ˆProcess åˆ—æ˜¾ç¤ºè¿›ç¨‹åç§°å’Œè¿›ç¨‹IDï¼‰ã€‚
     
       è¿™ä¸ªå‘½ä»¤å¯¹äºå¿«é€Ÿæ£€æŸ¥ç³»ç»Ÿä¸Šè¿è¡Œçš„æœåŠ¡å’Œç›‘å¬çš„ç«¯å£éå¸¸æœ‰ç”¨ï¼Œç‰¹åˆ«æ˜¯åœ¨æ’æŸ¥ç½‘ç»œé—®é¢˜æˆ–ç¡®è®¤æœåŠ¡çŠ¶æ€æ—¶ã€‚ç”±äº `ss` å‘½ä»¤æ¯” `netstat` æ›´å¿«ï¼Œå®ƒåœ¨ç”Ÿäº§ç¯å¢ƒä¸­è¢«å¹¿æ³›ä½¿ç”¨ã€‚
     
  3. **lsof**ï¼š
     `lsof` å‘½ä»¤ç”¨äºæŸ¥çœ‹è¢«è¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶ã€‚ç”±äºåœ¨Unixä¸­ä¸€åˆ‡çš†æ–‡ä»¶ï¼Œç½‘ç»œè¿æ¥ä¹ŸåŒ…æ‹¬åœ¨å†…ã€‚è¦æŸ¥çœ‹ç«¯å£ï¼Œå¯ä»¥ä½¿ç”¨ï¼š
     
     ```bash
     lsof -i -n | grep LISTEN
     ```
     - `-i` è¡¨ç¤ºæ˜¾ç¤ºç½‘ç»œè¿æ¥
     - `-n` è¡¨ç¤ºé¿å…å¯¹åœ°å€å’Œç«¯å£è¿›è¡Œè§£æ
     
  4. **nmap**ï¼š
     `nmap` ä¸»è¦ç”¨äºç½‘ç»œå‘ç°å’Œå®‰å…¨å®¡è®¡ã€‚å®ƒå¯ä»¥ç”¨æ¥æ‰«æç«¯å£ã€‚è¦æ£€æŸ¥æœ¬åœ°æœºå™¨çš„ç«¯å£ï¼Œå¯ä»¥ä½¿ç”¨ï¼š
     ```bash
     nmap -sT -O localhost
     ```
     - `-sT` è¡¨ç¤ºè¿›è¡ŒTCPè¿æ¥æ‰«æ
     - `-O` è¡¨ç¤ºè¿›è¡Œæ“ä½œç³»ç»Ÿæ£€æµ‹

  5. **fuser**ï¼š
     `fuser` å‘½ä»¤ç”¨äºæŸ¥æ‰¾ä½¿ç”¨æŒ‡å®šèµ„æºçš„è¿›ç¨‹ã€‚è¦æŸ¥çœ‹ç‰¹å®šç«¯å£çš„è¿›ç¨‹ï¼Œå¯ä»¥ä½¿ç”¨ï¼š
     ```bash
     fuser -v -n tcp port_number
     ```
     - `port_number` æ˜¯ä½ æƒ³è¦æ£€æŸ¥çš„ç«¯å£å·

  6. **iptables**ï¼š
     `iptables` æ˜¯ä¸€ä¸ªé…ç½®Linuxå†…æ ¸é˜²ç«å¢™çš„å‘½ä»¤è¡Œå·¥å…·ã€‚è¦æŸ¥çœ‹é˜²ç«å¢™è§„åˆ™ï¼ˆåŒ…æ‹¬ç«¯å£ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ï¼š
     ```bash
     iptables -L -n -v
     ```
     è¿™å°†åˆ—å‡ºæ‰€æœ‰çš„iptablesè§„åˆ™ï¼ŒåŒ…æ‹¬å…è®¸å’Œæ‹’ç»ç‰¹å®šç«¯å£çš„è§„åˆ™ã€‚

  è¯·æ³¨æ„ï¼ŒæŸäº›å‘½ä»¤å¯èƒ½éœ€è¦rootæƒé™æ‰èƒ½æŸ¥çœ‹æ‰€æœ‰ä¿¡æ¯ã€‚å¦‚æœä½ ä¸æ˜¯ä»¥rootç”¨æˆ·è¿è¡Œï¼Œå¯ä»¥åœ¨å‘½ä»¤å‰åŠ ä¸Š `sudo` æ¥è·å–å¿…è¦çš„æƒé™ã€‚

  åœ¨ä½¿ç”¨è¿™äº›å‘½ä»¤æ—¶ï¼Œè¯·ç¡®ä¿ä½ æœ‰æƒé™æ‰§è¡Œå®ƒä»¬ï¼Œå¹¶ä¸”äº†è§£å®ƒä»¬å¯èƒ½å¯¹ç³»ç»Ÿé€ æˆçš„å½±å“ã€‚ç‰¹åˆ«æ˜¯åœ¨ä½¿ç”¨ `iptables` è¿›è¡Œè§„åˆ™ä¿®æ”¹æ—¶ï¼Œé”™è¯¯çš„æ“ä½œå¯èƒ½ä¼šå¯¼è‡´ç½‘ç»œè¿æ¥é—®é¢˜ã€‚

  ```SH
  tr -cd 'a-z' < /dev/urandom|head -c10**
  ```

  è¯¥å‘½ä»¤ç»„åˆæ˜¯åœ¨ä¸€ä¸ªç±»Unixç³»ç»Ÿä¸­ä½¿ç”¨çš„ï¼Œç”¨äºä»`/dev/urandom`è®¾å¤‡æ–‡ä»¶ä¸­ç”Ÿæˆéšæœºå­—ç¬¦åºåˆ—ã€‚ä¸‹é¢æ˜¯å¯¹å‘½ä»¤å„éƒ¨åˆ†çš„è§£é‡Šï¼š

  - `tr`ï¼šæ˜¯â€œtranslateâ€æˆ–â€œsqueezeâ€çš„ç¼©å†™ï¼Œç”¨äºåˆ é™¤æˆ–æ›¿æ¢æ–‡ä»¶ä¸­çš„å­—ç¬¦ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`tr`ç”¨äºä»è¾“å…¥ä¸­åˆ é™¤å­—ç¬¦ã€‚
  - `-c`ï¼šè¿™ä¸ªé€‰é¡¹ç”¨äºå‹ç¼©é‡å¤çš„å­—ç¬¦ï¼Œåªä¿ç•™ä¸€ä¸ªã€‚
  - `-d`ï¼šè¿™ä¸ªé€‰é¡¹ç”¨äºåˆ é™¤è¾“å…¥ä¸­çš„é‡å¤è¡Œã€‚
  - `'a-z'`ï¼šè¿™æ˜¯`tr`å‘½ä»¤çš„æ“ä½œå­—ç¬¦é›†ï¼ŒæŒ‡å®šäº†`tr`æ“ä½œçš„å­—ç¬¦èŒƒå›´ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå®ƒè¡¨ç¤ºæ‰€æœ‰çš„å°å†™å­—æ¯ã€‚
  - `< /dev/urandom`ï¼šè¿™æ˜¯è¾“å…¥é‡å®šå‘ï¼Œæ„å‘³ç€`/dev/urandom`æ–‡ä»¶çš„å†…å®¹å°†ä½œä¸ºè¾“å…¥ä¼ é€’ç»™`tr`å‘½ä»¤ã€‚`/dev/urandom`æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ï¼Œæä¾›äº†ä¸€ä¸ªå¼ºéšæœºæ€§çš„æºï¼Œé€šå¸¸ç”¨äºç”Ÿæˆéšæœºæ•°æˆ–å¯†é’¥ã€‚
  - `head -c10`ï¼šè¿™æ˜¯å¦ä¸€ä¸ªå‘½ä»¤ï¼Œç”¨äºä»è¾“å…¥ä¸­åªå–å‰10ä¸ªå­—ç¬¦ã€‚`head`å‘½ä»¤é»˜è®¤è¾“å‡ºæ–‡ä»¶çš„å‰10è¡Œï¼Œä½†åœ¨è¿™é‡Œä½¿ç”¨`-c`é€‰é¡¹æ¥æŒ‡å®šè¾“å‡ºçš„å­—ç¬¦æ•°ã€‚

  ç»¼åˆæ¥çœ‹ï¼Œè¿™ä¸ªå‘½ä»¤ç»„åˆçš„ä½œç”¨æ˜¯ä»`/dev/urandom`ç”Ÿæˆçš„éšæœºæ•°æ®ä¸­ï¼Œæå–10ä¸ªä¸é‡å¤çš„å°å†™å­—æ¯å­—ç¬¦ã€‚è¿™å¯ä»¥ç”¨äºç”Ÿæˆä¸€äº›ç®€å•çš„éšæœºå­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ç”¨äºæµ‹è¯•æˆ–ä¸´æ—¶çš„å¯†ç ã€‚

  éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶`/dev/urandom`æä¾›çš„éšæœºæ€§å¯¹äºå¤§å¤šæ•°ç”¨é€”æ¥è¯´æ˜¯è¶³å¤Ÿçš„ï¼Œä½†å®ƒç”Ÿæˆçš„éšæœºæ•°å¹¶ä¸é€‚ç”¨äºåŠ å¯†ç”¨é€”ã€‚å¯¹äºéœ€è¦é«˜å®‰å…¨æ€§çš„éšæœºæ•°ç”Ÿæˆï¼Œåº”ä½¿ç”¨ä¸“é—¨çš„åŠ å¯†å‡½æ•°æˆ–å·¥å…·ã€‚æ­¤å¤–ï¼Œç”Ÿæˆçš„å­—ç¬¦ä¸²é•¿åº¦è¾ƒçŸ­ï¼Œå¯èƒ½ä¸æ»¡è¶³æŸäº›å®‰å…¨ç­–ç•¥å¯¹äºå¯†ç é•¿åº¦çš„è¦æ±‚ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œåº”æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©é€‚å½“çš„éšæœºæ•°ç”Ÿæˆæ–¹æ³•å’Œé•¿åº¦ã€‚
